{"ast":null,"code":"var _jsxFileName = \"C:\\\\iDAS\\\\client\\\\src\\\\App.tsx\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./App.css\";\nimport \"./styles/sb-admin-2.min.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Client from \"./components/Account/Client\";\nimport Admin from \"./components/Admin/Admin\";\nimport IdleTimer from \"./IdleTimer\";\nimport { logout } from \"./store/actions/account.actions\";\nimport APP_CONST from \"./common/contant\";\n//import { PrivateRoute } from \"./common/components/PrivateRoute\";\n//import { AccountRoute } from \"./common/components/AccountRoute\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const account = useSelector(state => state.account);\n  useEffect(() => {\n    if (APP_CONST.AUTO_LOGOUT_ENABLED) {\n      const timer = new IdleTimer({\n        timeout: APP_CONST.AUTO_LOGOUT_TIME,\n        //expire after 10 seconds\n        onTimeout: () => {\n          dispatch(logout());\n          timer.cleanUp();\n        },\n        onExpired: () => {\n          dispatch(logout());\n          return () => {\n            timer.cleanUp();\n          };\n        }\n      });\n      return () => {\n        timer.cleanUp();\n      };\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    id: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, account.email ? /*#__PURE__*/React.createElement(Admin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 32\n    }\n  }) : /*#__PURE__*/React.createElement(Client, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 44\n    }\n  })));\n};\nexport default App;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","BrowserRouter","Router","Client","Admin","IdleTimer","logout","APP_CONST","App","dispatch","account","state","AUTO_LOGOUT_ENABLED","timer","timeout","AUTO_LOGOUT_TIME","onTimeout","cleanUp","onExpired","createElement","className","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","email"],"sources":["C:/iDAS/client/src/App.tsx"],"sourcesContent":["import React,{ useEffect, useState,Dispatch }  from \"react\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\n\r\nimport \"./App.css\";\r\nimport \"./styles/sb-admin-2.min.css\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n \r\nimport { IStateType } from \"./store/models/root.interface\";\r\nimport { IAccount } from \"./store/models/account.interface\";\r\nimport Client from \"./components/Account/Client\";\r\nimport Admin from \"./components/Admin/Admin\"; \r\nimport IdleTimer from \"./IdleTimer\"; \r\nimport { logout } from \"./store/actions/account.actions\";\r\nimport APP_CONST from \"./common/contant\"; \r\n//import { PrivateRoute } from \"./common/components/PrivateRoute\";\r\n//import { AccountRoute } from \"./common/components/AccountRoute\";\r\n\r\nconst App: React.FC = () => {\r\n  const dispatch: Dispatch<any> = useDispatch();\r\n  const account: IAccount = useSelector((state: IStateType) => state.account);\r\n \r\n  useEffect(() => { \r\n    \r\n   if(APP_CONST.AUTO_LOGOUT_ENABLED){\r\n    const timer = new IdleTimer({\r\n      timeout: APP_CONST.AUTO_LOGOUT_TIME , //expire after 10 seconds\r\n      onTimeout: () => {  \r\n        dispatch(logout());\r\n        timer.cleanUp();\r\n      },\r\n      onExpired: () => { \r\n        dispatch(logout())\r\n        return () => {\r\n          timer.cleanUp();\r\n        };\r\n      }\r\n    });\r\n    return () => {\r\n      timer.cleanUp();\r\n    };\r\n  }\r\n   \r\n  }, []);\r\n \r\n\r\n  return (\r\n    <div className=\"App\" id=\"wrapper\">\r\n      <Router>{account.email ? <Admin /> : <Client />}</Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAA4B,OAAO;AAC3D,SAASC,WAAW,EAACC,WAAW,QAAQ,aAAa;AAErD,OAAO,WAAW;AAClB,OAAO,6BAA6B;AACpC,SAASC,aAAa,IAAIC,MAAM,QAAQ,kBAAkB;AAI1D,OAAOC,MAAM,MAAM,6BAA6B;AAChD,OAAOC,KAAK,MAAM,0BAA0B;AAC5C,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,MAAM,QAAQ,iCAAiC;AACxD,OAAOC,SAAS,MAAM,kBAAkB;AACxC;AACA;;AAEA,MAAMC,GAAa,GAAGA,CAAA,KAAM;EAC1B,MAAMC,QAAuB,GAAGV,WAAW,CAAC,CAAC;EAC7C,MAAMW,OAAiB,GAAGV,WAAW,CAAEW,KAAiB,IAAKA,KAAK,CAACD,OAAO,CAAC;EAE3EZ,SAAS,CAAC,MAAM;IAEf,IAAGS,SAAS,CAACK,mBAAmB,EAAC;MAChC,MAAMC,KAAK,GAAG,IAAIR,SAAS,CAAC;QAC1BS,OAAO,EAAEP,SAAS,CAACQ,gBAAgB;QAAG;QACtCC,SAAS,EAAEA,CAAA,KAAM;UACfP,QAAQ,CAACH,MAAM,CAAC,CAAC,CAAC;UAClBO,KAAK,CAACI,OAAO,CAAC,CAAC;QACjB,CAAC;QACDC,SAAS,EAAEA,CAAA,KAAM;UACfT,QAAQ,CAACH,MAAM,CAAC,CAAC,CAAC;UAClB,OAAO,MAAM;YACXO,KAAK,CAACI,OAAO,CAAC,CAAC;UACjB,CAAC;QACH;MACF,CAAC,CAAC;MACF,OAAO,MAAM;QACXJ,KAAK,CAACI,OAAO,CAAC,CAAC;MACjB,CAAC;IACH;EAEA,CAAC,EAAE,EAAE,CAAC;EAGN,oBACEpB,KAAA,CAAAsB,aAAA;IAAKC,SAAS,EAAC,KAAK;IAACC,EAAE,EAAC,SAAS;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/B9B,KAAA,CAAAsB,aAAA,CAACjB,MAAM;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEjB,OAAO,CAACkB,KAAK,gBAAG/B,KAAA,CAAAsB,aAAA,CAACf,KAAK;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAAG9B,KAAA,CAAAsB,aAAA,CAAChB,MAAM;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAU,CACrD,CAAC;AAEV,CAAC;AAED,eAAenB,GAAG"},"metadata":{},"sourceType":"module"}