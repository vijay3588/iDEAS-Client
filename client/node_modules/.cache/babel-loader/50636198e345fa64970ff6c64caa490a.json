{"ast":null,"code":"import { ADD_DOCTYPE, CHANGE_DOCTYPE_PENDING_EDIT, EDIT_DOCTYPE, REMOVE_DOCTYPE, CLEAR_DOCTYPE_PENDING_EDIT, SET_DOCTYPE_MODIFICATION_STATE, CHANGE_DOCTYPE_AMOUNT, LIST_DOCTYPE } from \"../actions/doctype.action\";\nimport { DocTypeModificationStatus } from \"../models/doctype.interface\";\nconst initialState = {\n  modificationState: DocTypeModificationStatus.None,\n  selectedDocType: null,\n  docTypes: []\n};\nfunction docTypesReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case LIST_DOCTYPE:\n      {\n        return {\n          ...state,\n          docTypes: action.docTypes\n        };\n      }\n    case ADD_DOCTYPE:\n      {\n        //  let maxId: number = Math.max.apply(Math, state.docTypes.map(function(o) { return o._id; }));\n        //  action.product.id = maxId + 1; \n        return {\n          ...state,\n          docTypes: [...state.docTypes, action.docType]\n        };\n      }\n    case EDIT_DOCTYPE:\n      {\n        const foundIndex = state.docTypes.findIndex(pr => pr._id === action.docType._id);\n        let docTypes = state.docTypes;\n        docTypes[foundIndex] = action.docType;\n        return {\n          ...state,\n          docTypes: docTypes\n        };\n      }\n    case REMOVE_DOCTYPE:\n      {\n        return {\n          ...state,\n          docTypes: state.docTypes.filter(pr => pr._id !== action.id)\n        };\n      }\n    case CHANGE_DOCTYPE_PENDING_EDIT:\n      {\n        return {\n          ...state,\n          selectedDocType: action.docType\n        };\n      }\n    case CLEAR_DOCTYPE_PENDING_EDIT:\n      {\n        return {\n          ...state,\n          selectedDocType: null\n        };\n      }\n    case SET_DOCTYPE_MODIFICATION_STATE:\n      {\n        return {\n          ...state,\n          modificationState: action.value\n        };\n      }\n    case CHANGE_DOCTYPE_AMOUNT:\n      {\n        // const foundIndex: number = state.docTypes.findIndex(pr => pr._id === action.id);\n        let docTypes = state.docTypes;\n        return {\n          ...state,\n          docTypes: docTypes\n        };\n      }\n    default:\n      return state;\n  }\n}\nexport default docTypesReducer;","map":{"version":3,"names":["ADD_DOCTYPE","CHANGE_DOCTYPE_PENDING_EDIT","EDIT_DOCTYPE","REMOVE_DOCTYPE","CLEAR_DOCTYPE_PENDING_EDIT","SET_DOCTYPE_MODIFICATION_STATE","CHANGE_DOCTYPE_AMOUNT","LIST_DOCTYPE","DocTypeModificationStatus","initialState","modificationState","None","selectedDocType","docTypes","docTypesReducer","state","arguments","length","undefined","action","type","docType","foundIndex","findIndex","pr","_id","filter","id","value"],"sources":["C:/iDAS/client/src/store/reducers/doctype.reducer.ts"],"sourcesContent":["import { IDocTypeState, IActionBase } from \"../models/root.interface\";\r\nimport { ADD_DOCTYPE, CHANGE_DOCTYPE_PENDING_EDIT, EDIT_DOCTYPE, REMOVE_DOCTYPE,\r\n    CLEAR_DOCTYPE_PENDING_EDIT, SET_DOCTYPE_MODIFICATION_STATE, CHANGE_DOCTYPE_AMOUNT, LIST_DOCTYPE} from \"../actions/doctype.action\";\r\nimport { IDocType, DocTypeModificationStatus } from \"../models/doctype.interface\";\r\n\r\n\r\n\r\nconst initialState: IDocTypeState = {\r\n    modificationState: DocTypeModificationStatus.None,\r\n    selectedDocType: null,\r\n    docTypes: []\r\n};\r\n\r\nfunction docTypesReducer(state: IDocTypeState = initialState, action: IActionBase): IDocTypeState {\r\n    switch (action.type) {         \r\n        case LIST_DOCTYPE: { \r\n            return { ...state, docTypes:  action.docTypes};\r\n        }        \r\n        case ADD_DOCTYPE: {\r\n          //  let maxId: number = Math.max.apply(Math, state.docTypes.map(function(o) { return o._id; }));\r\n          //  action.product.id = maxId + 1; \r\n            return { ...state, docTypes: [...state.docTypes, action.docType]};\r\n        }\r\n        case EDIT_DOCTYPE: {\r\n            const foundIndex: number = state.docTypes.findIndex(pr => pr._id === action.docType._id);\r\n            let docTypes: IDocType[] = state.docTypes;\r\n            docTypes[foundIndex] = action.docType;\r\n            return { ...state, docTypes: docTypes };\r\n        }\r\n        case REMOVE_DOCTYPE: {\r\n            return { ...state, docTypes: state.docTypes.filter(pr => pr._id !== action.id) };\r\n        }\r\n        case CHANGE_DOCTYPE_PENDING_EDIT: {\r\n            return { ...state, selectedDocType: action.docType };\r\n        }\r\n        case CLEAR_DOCTYPE_PENDING_EDIT: {\r\n            return { ...state, selectedDocType: null };\r\n        }\r\n        case SET_DOCTYPE_MODIFICATION_STATE: {\r\n            return { ...state, modificationState: action.value };\r\n        }\r\n        case CHANGE_DOCTYPE_AMOUNT: {\r\n           // const foundIndex: number = state.docTypes.findIndex(pr => pr._id === action.id);\r\n            let docTypes: IDocType[] = state.docTypes;\r\n            return { ...state, docTypes: docTypes };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default docTypesReducer;"],"mappings":"AACA,SAASA,WAAW,EAAEC,2BAA2B,EAAEC,YAAY,EAAEC,cAAc,EAC3EC,0BAA0B,EAAEC,8BAA8B,EAAEC,qBAAqB,EAAEC,YAAY,QAAO,2BAA2B;AACrI,SAAmBC,yBAAyB,QAAQ,6BAA6B;AAIjF,MAAMC,YAA2B,GAAG;EAChCC,iBAAiB,EAAEF,yBAAyB,CAACG,IAAI;EACjDC,eAAe,EAAE,IAAI;EACrBC,QAAQ,EAAE;AACd,CAAC;AAED,SAASC,eAAeA,CAAA,EAA0E;EAAA,IAAzEC,KAAoB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGP,YAAY;EAAA,IAAEU,MAAmB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC7E,QAAQC,MAAM,CAACC,IAAI;IACf,KAAKb,YAAY;MAAE;QACf,OAAO;UAAE,GAAGQ,KAAK;UAAEF,QAAQ,EAAGM,MAAM,CAACN;QAAQ,CAAC;MAClD;IACA,KAAKb,WAAW;MAAE;QAChB;QACA;QACE,OAAO;UAAE,GAAGe,KAAK;UAAEF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAQ,EAAEM,MAAM,CAACE,OAAO;QAAC,CAAC;MACrE;IACA,KAAKnB,YAAY;MAAE;QACf,MAAMoB,UAAkB,GAAGP,KAAK,CAACF,QAAQ,CAACU,SAAS,CAACC,EAAE,IAAIA,EAAE,CAACC,GAAG,KAAKN,MAAM,CAACE,OAAO,CAACI,GAAG,CAAC;QACxF,IAAIZ,QAAoB,GAAGE,KAAK,CAACF,QAAQ;QACzCA,QAAQ,CAACS,UAAU,CAAC,GAAGH,MAAM,CAACE,OAAO;QACrC,OAAO;UAAE,GAAGN,KAAK;UAAEF,QAAQ,EAAEA;QAAS,CAAC;MAC3C;IACA,KAAKV,cAAc;MAAE;QACjB,OAAO;UAAE,GAAGY,KAAK;UAAEF,QAAQ,EAAEE,KAAK,CAACF,QAAQ,CAACa,MAAM,CAACF,EAAE,IAAIA,EAAE,CAACC,GAAG,KAAKN,MAAM,CAACQ,EAAE;QAAE,CAAC;MACpF;IACA,KAAK1B,2BAA2B;MAAE;QAC9B,OAAO;UAAE,GAAGc,KAAK;UAAEH,eAAe,EAAEO,MAAM,CAACE;QAAQ,CAAC;MACxD;IACA,KAAKjB,0BAA0B;MAAE;QAC7B,OAAO;UAAE,GAAGW,KAAK;UAAEH,eAAe,EAAE;QAAK,CAAC;MAC9C;IACA,KAAKP,8BAA8B;MAAE;QACjC,OAAO;UAAE,GAAGU,KAAK;UAAEL,iBAAiB,EAAES,MAAM,CAACS;QAAM,CAAC;MACxD;IACA,KAAKtB,qBAAqB;MAAE;QACzB;QACC,IAAIO,QAAoB,GAAGE,KAAK,CAACF,QAAQ;QACzC,OAAO;UAAE,GAAGE,KAAK;UAAEF,QAAQ,EAAEA;QAAS,CAAC;MAC3C;IACA;MACI,OAAOE,KAAK;EACpB;AACJ;AAGA,eAAeD,eAAe"},"metadata":{},"sourceType":"module"}