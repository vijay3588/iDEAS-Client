{"ast":null,"code":"var _jsxFileName = \"C:\\\\iDAS\\\\client\\\\src\\\\components\\\\DocSubmit\\\\DocSubmitForm.tsx\";\nimport React, { useState, Fragment } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ProductModificationStatus } from \"../../store/models/product.interface\";\nimport TextInput from \"../../common/components/TextInput\";\nimport DateInput from \"../../common/components/DateInput\";\nimport PrintCode from \"../../common/components/PrintCode\";\nimport CalculateNonPerceptualTime from \"../../common/components/CalculateNonPerceptualTime\";\nimport { editProduct, clearSelectedProduct, setModificationState, addProduct, loadListOfProduct } from \"../../store/actions/productsubmit.action\";\nimport { addNotification } from \"../../store/actions/notifications.action\";\nimport { addNewDoc, updateDoc, getRacks, getIssuedDocumentList, getNewQrCode } from \"../../services/index\";\nimport SelectInput from \"../../common/components/Select\";\nimport Checkbox from \"../../common/components/Checkbox\";\n/* import DatePicker, {\r\n  DayValue,\r\n  DayRange,\r\n  Day,\r\n} from \"react-modern-calendar-datepicker\"; */\nimport uniquebg from \"../../assets/images/uniquebg.png\";\nimport APP_CONST from \"../../common/contant\";\nconst ProductForm = () => {\n  const account = useSelector(state => state.account);\n  //const componentRef = useRef();\n\n  const products = useSelector(state => state.productSubmit);\n  let product = products.selectedForProductSubmit;\n  const isCreate = products.modificationState === ProductModificationStatus.Create;\n  const {\n    roles = [],\n    name,\n    email\n  } = account;\n  const [boxRacks, setBoxRacks] = useState([]);\n  const [formWithError, setFormWithError] = useState(false);\n  const [pickRack, setPickedRack] = useState(false);\n  const [qrRequested, setQrRequested] = useState({\n    name: \"\",\n    box: \"\",\n    rack: \"\"\n  });\n  const [, setQrModified] = useState(false);\n  const selectField = [\"box\"];\n  const dispatch = useDispatch();\n  const [touchedFields, setTouchedFields] = useState({\n    box: false,\n    rack: false,\n    category: false,\n    document_type: false,\n    type_of_space: false\n  });\n  const [documentReadyToReturn, setDocumentReadyToReturn] = useState(false);\n  const [documentReturnReadyToApprove, setDocumentReturnReadyToApprove] = useState(false);\n  const [documentConfirmToTakeout, setDocumentConfirmToTakeout] = useState(false);\n\n  //Document Category loaded\n  const doccategoriesList = useSelector(state => state.docCategories);\n  let listOfCate = [];\n  doccategoriesList.docCategories.forEach(doc => {\n    let me = {\n      id: doc._id,\n      name: doc.name\n    };\n    listOfCate.push(me);\n  });\n  //Document Boxes loaded\n  const boxes = useSelector(state => state.boxes);\n  let listOfBoxws = [];\n  boxes.boxes.forEach(doc => {\n    let me = {\n      id: doc._id,\n      name: doc.name\n    };\n    listOfBoxws.push(me);\n  });\n\n  //Document Types loaded\n  const docTypeList = useSelector(state => state.docTypes);\n  let listOfType = [];\n  docTypeList.docTypes.forEach(doc => {\n    let me = {\n      id: doc._id,\n      name: doc.name\n    };\n    listOfType.push(me);\n  });\n  var future = new Date();\n  future.setDate(future.getDate() + 30);\n  if (!product || isCreate) {\n    let dt = new Date();\n    let selectedDate = new Date(dt.setFullYear(dt.getFullYear() + APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD));\n    //let timeSeed = new Date(selectedDate).getUTCFullYear() - new Date().getUTCFullYear();// parseInt(value.toString());\n    let timeSeed = new Date(selectedDate).getUTCFullYear() - new Date().getUTCFullYear(); // parseInt(value.toString());\n\n    const {\n      rentention = ''\n    } = add_years(timeSeed);\n    product = {\n      _id: \"\",\n      name: \"\",\n      description: \"\",\n      box: \"\",\n      rack: \"\",\n      category: \"\",\n      type_of_space: \"\",\n      document_type: \"\",\n      qr_code: \"\",\n      document_no: \"\",\n      manufacturedate: \"\",\n      expiredate: \"\",\n      document_info: {},\n      retension_time: {\n        time: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\n        defaultYear: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\n        retension_exact_date: new Date(selectedDate).toLocaleString('en-US'),\n        calculateNonPerceptualTime: rentention.toString()\n      },\n      document_request_info: {},\n      is_requested_for_takeout: false,\n      takeout_return_date: future,\n      takeout_requested_details: {},\n      doc_requested_department: {},\n      document_type_details: {},\n      isRequestedDocument: false,\n      docStatus: \"archived\",\n      no_of_copy: \"\",\n      no_of_page: \"\"\n    };\n  } else {\n    const {\n      box = \"\",\n      rack = \"\"\n    } = product;\n    if (box) {\n      let selectBox = boxes.boxes.filter(boxe => boxe.name === box);\n      let selectedBox = \"\";\n      if (selectBox.length > 0) {\n        selectedBox = selectBox[0]._id;\n      }\n      if (selectedBox && rack && boxRacks.length === 0) {\n        getRacks(selectedBox, account).then(function () {\n          let racks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n          if (racks.length > 0) {\n            setBoxRacks(racks);\n            setPickedRack(true);\n          }\n        });\n      }\n    }\n  }\n  const [formState, setFormState] = useState({\n    _id: {\n      error: \"\",\n      value: product._id\n    },\n    name: {\n      error: \"\",\n      value: product.name\n    },\n    description: {\n      error: \"\",\n      value: product.description\n    },\n    box: {\n      error: \"\",\n      value: product.box\n    },\n    rack: {\n      error: \"\",\n      value: product.rack\n    },\n    category: {\n      error: \"\",\n      value: product.category\n    },\n    type_of_space: {\n      error: \"\",\n      value: product.type_of_space\n    },\n    document_type: {\n      error: \"\",\n      value: product.document_type\n    },\n    no_of_copy: {\n      error: \"\",\n      value: product.no_of_copy\n    },\n    no_of_page: {\n      error: \"\",\n      value: product.no_of_page\n    },\n    qr_code: {\n      error: \"\",\n      value: product.qr_code\n    },\n    manufacturedate: {\n      error: \"\",\n      value: product.manufacturedate\n    },\n    expiredate: {\n      error: \"\",\n      value: product.expiredate\n    },\n    takeout_return_date: {\n      error: \"\",\n      value: product.takeout_return_date ? product.takeout_return_date : future\n    },\n    retension_time: {\n      error: \"\",\n      value: {\n        /* time: product.retension_time ? product.retension_time.time : 0,\r\n        defaultYear: product.retension_time\r\n        \t? product.retension_time.defaultYear\r\n        \t: 0,\r\n        calculateNonPerceptualTime: product.retension_time\r\n        \t? product.retension_time.calculateNonPerceptualTime\r\n        \t: 0,\r\n        \tretension_exact_date : product.retension_time.retension_exact_date,  */\n\n        time: product.retension_time.time,\n        defaultYear: product.retension_time.defaultYear,\n        retension_exact_date: product.retension_time.retension_exact_date,\n        calculateNonPerceptualTime: product.retension_time.calculateNonPerceptualTime\n      }\n    },\n    document_request_info: {\n      error: \"\",\n      value: product.document_request_info\n    },\n    is_requested_for_takeout: {\n      error: \"\",\n      value: product.is_requested_for_takeout\n    },\n    document_type_details: {\n      error: \"\",\n      value: product.document_type_details\n    },\n    docStatus: {\n      error: \"\",\n      value: product.docStatus ? product.docStatus : 'archived'\n    }\n  });\n  if (formState.qr_code.value === \"\") {\n    generateCode().then(res => {\n      setFormState({\n        ...formState,\n        [\"qr_code\"]: {\n          error: \"\",\n          value: res.code\n        }\n      });\n    });\n  }\n  function add_years(n) {\n    let dt = new Date();\n    const calcDat = new Date(dt.setFullYear(dt.getFullYear() + n));\n    return {\n      exactDate: calcDat,\n      rentention: (\"0\" + (calcDat.getMonth() + 1)).slice(-2) + \"/\" + calcDat.getFullYear()\n    };\n  }\n  function hasRetensionChanged(model) {\n    const value = model.value || {};\n    const selDate = value.value;\n    let timeSeed = new Date(selDate).getUTCFullYear() - new Date().getUTCFullYear(); // parseInt(value.toString());\n\n    const {\n      rentention = ''\n    } = add_years(timeSeed);\n    ;\n    setFormState({\n      ...formState,\n      [\"retension_time\"]: {\n        error: \"\",\n        value: {\n          time: timeSeed,\n          defaultYear: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\n          retension_exact_date: new Date(selDate).toLocaleString('en-US'),\n          calculateNonPerceptualTime: rentention.toString()\n        }\n      }\n    });\n    /* const value : any = model.value ||{};\r\n    const selDate:any  = value.value;\r\n    \n    \t\t\r\n    let timeSeed = new Date(selDate).getUTCFullYear() - new Date().getUTCFullYear();// parseInt(value.toString());\r\n     \t\tsetFormState({\r\n    \t...formState,\r\n    \t[\"retension_time\"]: {\r\n    \t\terror: \"\",\r\n    \t\tvalue: {\r\n    \t\t\ttime: timeSeed,\r\n    \t\t\tdefaultYear: 3,\r\n    \t\t\tretension_exact_date: new Date(selDate).toString(),\r\n    \t\t\tcalculateNonPerceptualTime: add_years(timeSeed).toString(),\r\n    \t\t},\r\n    \t},\r\n    }); */\n    /*\r\n     const { value = 0 } = model;\r\n    let timeSeed = parseInt(value.toString());\r\n    \t\tsetFormState({\r\n    \t...formState,\r\n    \t[\"retension_time\"]: {\r\n    \t\terror: \"\",\r\n    \t\tvalue: {\r\n    \t\t\ttime: timeSeed,\r\n    \t\t\tdefaultYear: 3,\r\n    \t\t\tretension_exact_date: new Date(selDate).toString(),\r\n    \t\t\t\t\tcalculateNonPerceptualTime: add_years(timeSeed).toString(),\r\n    \t\t},\r\n    \t},\r\n    }); */\n  }\n\n  function hasFormValueChanged(model) {\n    const {\n      field,\n      value = \"\",\n      name = \"\"\n    } = model;\n    if (selectField.indexOf(field) > -1) {\n      setTouchedFields({\n        ...touchedFields,\n        [model.field]: true\n      });\n      getRacks(value, account).then(function () {\n        let racks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        if (racks.length > 0) {\n          setPickedRack(true);\n          setBoxRacks(racks);\n          // dispatch(updateRacks(racks));\n        }\n      });\n\n      setFormState({\n        ...formState,\n        [model.field]: {\n          error: model.error,\n          value: model.value\n        }\n      });\n      setQrRequested(Object.assign({\n        ...qrRequested\n      }, {\n        [model.field]: model.value\n      }));\n      setQrModified(true);\n    } else {\n      //Prepare QR\n      if (field === \"name\") {\n        setQrRequested(Object.assign({\n          ...qrRequested\n        }, {\n          [model.field]: value\n        }));\n        // setQrModified(true);\n      }\n\n      if (name === \"type_of_space\") {\n        setTouchedFields({\n          ...touchedFields,\n          [\"type_of_space\"]: true\n        });\n        if (model.field !== \"perceptual\") {\n          setFormState({\n            ...formState,\n            [\"retension_time\"]: {\n              error: \"\",\n              value: {\n                time: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\n                defaultYear: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\n                retension_exact_date: \"\",\n                calculateNonPerceptualTime: \"\"\n              }\n            },\n            [model.name]: {\n              error: model.error,\n              value: model.field\n            }\n          });\n        } else {\n          setFormState({\n            ...formState,\n            [model.name]: {\n              error: model.error,\n              value: model.field\n            }\n          });\n        }\n      } else {\n        setTouchedFields({\n          ...touchedFields,\n          [model.field]: true\n        });\n        setFormState({\n          ...formState,\n          [model.field]: {\n            error: model.error,\n            value: model.value\n          }\n        });\n      }\n    }\n  }\n  function hasRacksValueChanged(model) {\n    const newObj = boxRacks;\n    const {\n      field = \"\"\n    } = model;\n    boxRacks.forEach((rack, index) => {\n      if (rack._id === field) {\n        newObj[index][\"picked\"] = true;\n      } else {\n        newObj[index][\"picked\"] = false;\n      }\n    });\n    setBoxRacks(newObj);\n    setFormState({\n      ...formState,\n      [\"rack\"]: {\n        error: model.error,\n        value: field\n      }\n    });\n    setTouchedFields({\n      ...touchedFields,\n      [\"rack\"]: true\n    });\n  }\n  function saveUser(event) {\n    //var target = document.activeElement;\n\n    event.preventDefault();\n    if (!isFormInvalid()) {\n      setFormWithError(!formWithError);\n    } else {\n      let saveUserFn = isCreate ? addProduct : editProduct;\n      let modeOfAction = isCreate ? \"ADD\" : \"EDIT\";\n      saveForm(formState, saveUserFn, modeOfAction);\n    }\n  }\n  function saveForm(formState, saveFn, mode) {\n    if (product) {\n      const loggedInUserRole = roles[0] ? roles[0] : \"Developer\";\n      const currentUser = {\n        role: loggedInUserRole,\n        name,\n        email\n      };\n      if (mode === \"ADD\") {\n        const {\n          document_request_info: {\n            value: {\n              document_issued_from = \"\"\n            } = {}\n          } = {}\n        } = formState;\n        let boxInfo = {\n          name: formState.name.value,\n          description: formState.description.value,\n          box: formState.box.value,\n          rack: formState.rack.value,\n          category: formState.category.value,\n          qr_code: formState.qr_code.value,\n          manufacturedate: formState.manufacturedate.value,\n          expiredate: formState.expiredate.value,\n          type_of_space: formState.type_of_space.value,\n          document_type: formState.document_type.value,\n          document_info: {\n            active: true,\n            status: loggedInUserRole === \"Qualityuser\" ? \"approved\" : \"n-approved\",\n            createdBy: {\n              ...currentUser\n            },\n            createdOn: new Date()\n          },\n          isActive: true,\n          retension_time: formState.retension_time.value,\n          document_type_details: formState.document_type_details.value,\n          doc_issuance_ref_num: formState.qr_code.value\n        };\n        addNewDoc(boxInfo, account).then(status => {\n          getIssuedDocumentList(account, {\n            userId: account.emp_id\n          }).then(items => {\n            dispatch(loadListOfProduct(items));\n          });\n          dispatch(addNotification(\"New Document added\", `Document ${formState.name.value} added by you`));\n          dispatch(clearSelectedProduct());\n          dispatch(setModificationState(ProductModificationStatus.None));\n        });\n      } else if (mode === \"EDIT\") {\n        var _products$productSubm;\n        const sumittedDocInfo = {\n          document_submitted_on: new Date(),\n          document_submitted_by: account.emp_id\n        };\n        const {\n          document_request_info: {\n            value: {\n              document_issued_from = \"\"\n            } = {}\n          } = {}\n        } = formState;\n        let boxInfoUpt = {\n          id: formState._id.value,\n          name: formState.name.value,\n          description: formState.description.value,\n          box: formState.box.value,\n          rack: formState.rack.value,\n          category: formState.category.value,\n          manufacturedate: formState.manufacturedate.value ? formState.manufacturedate.value : null,\n          expiredate: formState.expiredate.value ? formState.expiredate.value : null,\n          type_of_space: formState.type_of_space.value,\n          qr_code: formState.qr_code.value,\n          document_no: document_issued_from,\n          document_type: formState.document_type.value,\n          retension_time: formState.retension_time.value,\n          isActive: true,\n          document_request_info: formState.document_request_info.value,\n          is_requested_for_takeout: formState.is_requested_for_takeout.value,\n          document_type_details: formState.document_type_details.value,\n          doc_issuance_ref_num: formState.qr_code.value\n        };\n        let seltdPro = {};\n        if (products !== null && ((_products$productSubm = products.productSubmit) === null || _products$productSubm === void 0 ? void 0 : _products$productSubm.length) > 0) {\n          seltdPro = products === null || products === void 0 ? void 0 : products.productSubmit.filter(pro => pro._id === formState._id.value)[0];\n        }\n        // let seltdPro = products?.productSubmit.filter(\n        // \t(pro) => pro._id === formState._id.value\n        // )[0];\n        const {\n          document_info = {}\n        } = seltdPro || {};\n        let updatedByArrau = [{\n          ...currentUser,\n          updatedOn: new Date()\n        }];\n        if (document_info.updatedBy) {\n          updatedByArrau = [...document_info.updatedBy, {\n            ...currentUser,\n            updatedOn: new Date()\n          }];\n        }\n        //,\n\n        let updatedDoc_Info = {\n          ...document_info,\n          active: true,\n          createdBy: {\n            ...currentUser\n          },\n          createdOn: new Date(),\n          updatedBy: updatedByArrau\n        };\n        if (formState.type_of_space.value && loggedInUserRole === \"Qualityuser\" && document_info.status === \"n-approved\") {\n          updatedDoc_Info = {\n            ...updatedDoc_Info,\n            status: \"approved\",\n            approvedBy: currentUser\n          };\n        }\n        //  takeout_return_date : formState.takeout_return_date.value,\n        let takeOut = {};\n        if (formState.is_requested_for_takeout && !documentReadyToReturn && !documentReturnReadyToApprove) {\n          takeOut = {\n            takeout_return_date: formState.takeout_return_date.value,\n            is_requested_for_takeout_submit: true\n          };\n        } else if (documentReadyToReturn && !documentReturnReadyToApprove) {\n          takeOut = {\n            is_requested_for_takeout_return: true\n          };\n        } else if (documentReturnReadyToApprove) {\n          takeOut = {\n            is_requested_for_takeout_return_approve: true\n          };\n        }\n        boxInfoUpt = {\n          ...boxInfoUpt,\n          ...takeOut,\n          ...{\n            document_info: updatedDoc_Info,\n            document_request_info: {\n              ...boxInfoUpt.document_request_info,\n              ...sumittedDocInfo\n            }\n          }\n        };\n        updateDoc(boxInfoUpt, account).then(status => {\n          dispatch(saveFn({\n            ...product,\n            ...status\n          }));\n          getIssuedDocumentList(account.auth, {\n            \"userId\": account.emp_id\n          }).then(items => {\n            dispatch(loadListOfProduct(items));\n          });\n          dispatch(addNotification(\"Box \", `Document ${formState.name.value} edited by you`));\n          dispatch(clearSelectedProduct());\n          dispatch(setModificationState(ProductModificationStatus.None));\n        });\n      }\n    }\n  }\n  function cancelForm() {\n    dispatch(setModificationState(ProductModificationStatus.None));\n  }\n  function isFormInvalid() {\n    let formIsValid = true;\n    if (formState.name.value === \"\") {\n      formIsValid = false;\n      formState.name.error = \"Document name is mandatory\";\n    } else if (formState.document_type.value === \"\") {\n      formIsValid = false;\n      formState.document_type.error = \"Document Type is mandatory\";\n    } else if (formState.category.value === \"\" && roles[0] === \"Qualityuser\") {\n      formIsValid = false;\n      formState.category.error = \"Compactor is mandatory\";\n    } else if (formState.description.value === \"\") {\n      formIsValid = false;\n      formState.description.error = \"Description is mandatory\";\n    } else if (formState.qr_code.value === \"\" && roles[0] === \"Qualityuser\") {\n      formIsValid = false;\n      formState.qr_code.error = \"Qr Code for the doc is mandatory\";\n    } else if (formState.box.value === \"\" && roles[0] === \"Qualityuser\") {\n      formIsValid = false;\n      formState.box.error = \"Rack system is mandatory\";\n    } else if (formState.rack.value === \"\" && roles[0] === \"Qualityuser\") {\n      formIsValid = false;\n      formState.rack.error = \"Series is mandatory\";\n    } else if (formState.type_of_space.value === \"\" && roles[0] === \"Qualityuser\") {\n      formIsValid = false;\n      formState.type_of_space.error = \"Type of space is mandatory\";\n    }\n    setFormState(formState);\n    return formIsValid;\n  }\n  function loadRacks() {\n    if (boxRacks.length > 0) {\n      const {\n        rack = \"\"\n      } = product || {};\n      return boxRacks.map(rack2 => {\n        const {\n          name,\n          _id,\n          status,\n          picked = false,\n          box = \"\"\n        } = rack2; //destructuring\n\n        let disbaledStatus = false;\n        let pickedStatus = picked;\n        if (formState.rack.value) {\n          if (formState.rack.value === name) {\n            pickedStatus = true;\n          } else if (formState.rack.value === _id) {\n            pickedStatus = true;\n          }\n        } else {\n          var _product;\n          if (((_product = product) === null || _product === void 0 ? void 0 : _product.box) === box) {\n            let selectdRack = _id === rack ? _id : \"\";\n            pickedStatus = _id === selectdRack ? true : pickedStatus;\n          }\n        }\n        if (status === \"Occupied\") {\n          disbaledStatus = true;\n          pickedStatus = true;\n        }\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-xs-2\",\n          key: _id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 6\n          }\n        }, \" \", /*#__PURE__*/React.createElement(Checkbox, {\n          id: \"input_email\",\n          field: _id,\n          onChange: hasRacksValueChanged,\n          label: name,\n          value: pickedStatus,\n          name: name,\n          disabled: disbaledStatus,\n          customError: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 7\n          }\n        }));\n      });\n    }\n  }\n  function generateCode() {\n    return getNewQrCode(formState).then(status => {\n      return status;\n    });\n  }\n  let type_of_space_Check = \"\";\n  if (formState.type_of_space !== undefined) {\n    type_of_space_Check = formState.type_of_space.value;\n  }\n  function printOrder() {\n    var _document$getElementB;\n    var myWindow = window.open(\"\", \"\", \"width=750,height=750\");\n    myWindow === null || myWindow === void 0 ? void 0 : myWindow.document.write(((_document$getElementB = document.getElementById(\"uniquename\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.innerHTML) || \"No Code\");\n    myWindow === null || myWindow === void 0 ? void 0 : myWindow.document.close();\n    myWindow === null || myWindow === void 0 ? void 0 : myWindow.focus();\n    myWindow === null || myWindow === void 0 ? void 0 : myWindow.print();\n    myWindow === null || myWindow === void 0 ? void 0 : myWindow.close();\n  }\n  const {\n    takeout_requested_details: {\n      current_status: {\n        code = \"\"\n      } = {}\n    } = {},\n    is_requested_for_takeout = false\n  } = product;\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-7 col-lg-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card shadow mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"m-0 font-weight-bold text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 7\n    }\n  }, \"Document \", isCreate ? \"create\" : \"edit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: saveUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row 14 font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"input_email\",\n    value: formState.name.value,\n    customError: formState.name.error,\n    field: \"name\",\n    onChange: hasFormValueChanged,\n    required: true,\n    maxLength: 20,\n    label: \"Name of the document\",\n    placeholder: \"Name of the document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SelectInput, {\n    id: \"input_document_type\",\n    field: \"document_type\",\n    label: \"Type of Document\",\n    options: listOfType,\n    required: true,\n    onChange: hasFormValueChanged,\n    value: formState.document_type.value,\n    type: \"select\",\n    customError: formState.document_type.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 10\n    }\n  })), roles[0] === \"Qualityuser\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(SelectInput, {\n    id: \"input_category\",\n    field: \"category\",\n    label: \"Compactor\",\n    options: listOfCate,\n    required: true,\n    onChange: hasFormValueChanged,\n    value: formState.category.value,\n    type: \"select\",\n    customError: formState.category.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row 13 font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"input_description\",\n    field: \"description\",\n    value: formState.description.value,\n    onChange: hasFormValueChanged,\n    required: false,\n    maxLength: 100,\n    label: \"Description\",\n    placeholder: \"Description\",\n    customError: formState.description.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 774,\n      columnNumber: 10\n    }\n  }))), !product.is_requested_for_takeout && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row 12 font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(DateInput, {\n    id: \"manufacturedate\",\n    field: \"manufacturedate\",\n    value: formState.manufacturedate.value ? new Date(formState.manufacturedate.value) : new Date('0001-01-01T00:00:00Z'),\n    required: false,\n    label: \"Manufacture date\",\n    placeholder: \"Manufacture date\",\n    onChange: hasFormValueChanged,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(DateInput, {\n    id: \"expiredate\",\n    field: \"expiredate\",\n    value: formState.expiredate.value ? new Date(formState.expiredate.value) : new Date('0001-01-01T00:00:00Z'),\n    required: false,\n    label: \"Expire date   \",\n    placeholder: \"Expire date\",\n    onChange: hasFormValueChanged,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 11\n    }\n  }))), roles[0] === \"Qualityuser\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row 12 font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 823,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 824,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(SelectInput, {\n    id: \"input_box\",\n    field: \"box\",\n    label: \"Rack system\",\n    options: listOfBoxws,\n    required: true,\n    onChange: hasFormValueChanged,\n    value: formState.box.value,\n    type: \"select\",\n    customError: formState.box.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 840,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 841,\n      columnNumber: 12\n    }\n  }, \" \", pickRack && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 844,\n      columnNumber: 14\n    }\n  }, \"Series \", loadRacks()), formState.rack.error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 847,\n      columnNumber: 14\n    }\n  }, formState.rack.error) : null)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-12 font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 858,\n      columnNumber: 9\n    }\n  }, roles[0] === \"Qualityuser\" && /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 862,\n      columnNumber: 12\n    }\n  }, \"Type of Space\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 863,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    style: {\n      paddingLeft: \"10px\"\n    },\n    key: \"perceptual_space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 864,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Checkbox, {\n    id: \"input_email\",\n    field: \"perceptual\",\n    onChange: hasFormValueChanged,\n    label: \"Perpetual documents \",\n    value: type_of_space_Check === \"perceptual\" ? true : false,\n    name: \"type_of_space\",\n    disabled: false,\n    customError: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 870,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 14\n    }\n  }), \" \", /*#__PURE__*/React.createElement(Checkbox, {\n    id: \"input_email\",\n    field: \"non_perceptual\",\n    onChange: hasFormValueChanged,\n    label: \"Non Perpetual documents \",\n    value: type_of_space_Check === \"non_perceptual\" ? true : false,\n    name: \"type_of_space\",\n    disabled: false,\n    customError: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 885,\n      columnNumber: 14\n    }\n  }), type_of_space_Check === \"non_perceptual\" && /*#__PURE__*/React.createElement(CalculateNonPerceptualTime, {\n    onChange: hasRetensionChanged,\n    value: formState.retension_time.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 13\n    }\n  }, formState.type_of_space.error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 15\n    }\n  }, formState.type_of_space.error) : null)), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 918,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    key: \"non_perceptual_space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 920,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card print-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 922,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"uniquename\",\n    style: {\n      backgroundImage: \"url(\" + uniquebg + \")\",\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\",\n      height: \"58px\",\n      width: \"300px\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 924,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: \"32px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 936,\n      columnNumber: 15\n    }\n  }, formState.qr_code.value)), \" \", /*#__PURE__*/React.createElement(PrintCode, {\n    code: formState,\n    docCategories: doccategoriesList.docCategories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 14\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-footer text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 945,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 946,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: printOrder,\n    className: \"btn btn-primary font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 947,\n      columnNumber: 15\n    }\n  }, \"Print\"))))), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 960,\n      columnNumber: 8\n    }\n  }, product.is_requested_for_takeout && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger font-14\",\n    onClick: () => cancelForm(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 963,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), documentConfirmToTakeout && code === \"issued\" && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: `btn btn-success left-margin font-14`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 12\n    }\n  }, \"Takeout\"), code === \"issued\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"12px 4px 3px 12px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 979,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    id: \"input_email\",\n    field: \"id_doc_takeout_retuen\",\n    onChange: e => {\n      setDocumentConfirmToTakeout(!documentConfirmToTakeout);\n    },\n    label: \"Document confirm to takeout\",\n    value: documentConfirmToTakeout,\n    name: \"id_doc_takeout_retuen\",\n    disabled: false,\n    customError: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 980,\n      columnNumber: 13\n    }\n  })), documentReadyToReturn && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: `btn btn-success left-margin font-14`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 12\n    }\n  }, \"Return\"), code === \"submitted\" && is_requested_for_takeout && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"12px 4px 3px 12px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1007,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    id: \"input_email\",\n    field: \"id_doc_takeout_retuen\",\n    onChange: e => {\n      setDocumentReadyToReturn(!documentReadyToReturn);\n    },\n    label: \"Document ready to return\",\n    value: documentReadyToReturn,\n    name: \"id_doc_takeout_retuen\",\n    disabled: false,\n    customError: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1008,\n      columnNumber: 13\n    }\n  })), code === \"returned\" && documentReturnReadyToApprove && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: `btn btn-success left-margin font-14`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 12\n    }\n  }, \"Approve Return\"), code === \"returned\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"12px 4px 3px 12px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1033,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    id: \"input_email\",\n    field: \"id_doc_takeout_retuen\",\n    onChange: e => {\n      setDocumentReturnReadyToApprove(!documentReturnReadyToApprove);\n    },\n    label: \"Document return ready to approve\",\n    value: documentReturnReadyToApprove,\n    name: \"id_doc_takeout_retuen\",\n    disabled: false,\n    customError: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1034,\n      columnNumber: 13\n    }\n  }))), !product.is_requested_for_takeout && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1053,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger font-14\",\n    onClick: () => cancelForm(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: `btn btn-success left-margin font-14`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1060,\n      columnNumber: 11\n    }\n  }, \"Save\"))))))));\n};\nexport default ProductForm;","map":{"version":3,"names":["React","useState","Fragment","useSelector","useDispatch","ProductModificationStatus","TextInput","DateInput","PrintCode","CalculateNonPerceptualTime","editProduct","clearSelectedProduct","setModificationState","addProduct","loadListOfProduct","addNotification","addNewDoc","updateDoc","getRacks","getIssuedDocumentList","getNewQrCode","SelectInput","Checkbox","uniquebg","APP_CONST","ProductForm","account","state","products","productSubmit","product","selectedForProductSubmit","isCreate","modificationState","Create","roles","name","email","boxRacks","setBoxRacks","formWithError","setFormWithError","pickRack","setPickedRack","qrRequested","setQrRequested","box","rack","setQrModified","selectField","dispatch","touchedFields","setTouchedFields","category","document_type","type_of_space","documentReadyToReturn","setDocumentReadyToReturn","documentReturnReadyToApprove","setDocumentReturnReadyToApprove","documentConfirmToTakeout","setDocumentConfirmToTakeout","doccategoriesList","docCategories","listOfCate","forEach","doc","me","id","_id","push","boxes","listOfBoxws","docTypeList","docTypes","listOfType","future","Date","setDate","getDate","dt","selectedDate","setFullYear","getFullYear","DEFAULT_PERCEPTUAL_YEAR_TO_ADD","timeSeed","getUTCFullYear","rentention","add_years","description","qr_code","document_no","manufacturedate","expiredate","document_info","retension_time","time","defaultYear","retension_exact_date","toLocaleString","calculateNonPerceptualTime","toString","document_request_info","is_requested_for_takeout","takeout_return_date","takeout_requested_details","doc_requested_department","document_type_details","isRequestedDocument","docStatus","no_of_copy","no_of_page","selectBox","filter","boxe","selectedBox","length","then","racks","arguments","undefined","formState","setFormState","error","value","generateCode","res","code","n","calcDat","exactDate","getMonth","slice","hasRetensionChanged","model","selDate","hasFormValueChanged","field","indexOf","Object","assign","hasRacksValueChanged","newObj","index","saveUser","event","preventDefault","isFormInvalid","saveUserFn","modeOfAction","saveForm","saveFn","mode","loggedInUserRole","currentUser","role","document_issued_from","boxInfo","active","status","createdBy","createdOn","isActive","doc_issuance_ref_num","userId","emp_id","items","None","_products$productSubm","sumittedDocInfo","document_submitted_on","document_submitted_by","boxInfoUpt","seltdPro","pro","updatedByArrau","updatedOn","updatedBy","updatedDoc_Info","approvedBy","takeOut","is_requested_for_takeout_submit","is_requested_for_takeout_return","is_requested_for_takeout_return_approve","auth","cancelForm","formIsValid","loadRacks","map","rack2","picked","disbaledStatus","pickedStatus","_product","selectdRack","createElement","className","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","label","disabled","customError","type_of_space_Check","printOrder","_document$getElementB","myWindow","window","open","document","write","getElementById","innerHTML","close","focus","print","current_status","onSubmit","required","maxLength","placeholder","options","type","style","paddingLeft","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","height","width","textAlign","fontSize","onClick","padding","e"],"sources":["C:/iDAS/client/src/components/DocSubmit/DocSubmitForm.tsx"],"sourcesContent":["import React, { useState, FormEvent, Dispatch, Fragment } from \"react\";\r\nimport {\r\n\tIStateType,\r\n\tIProductSubmitState,\r\n\tIDocCategoryState,\r\n\tIBoxState,\r\n\tIDocTypeState,\r\n} from \"../../store/models/root.interface\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n\tIProduct,\r\n\tProductModificationStatus,\r\n} from \"../../store/models/product.interface\";\r\n\r\nimport { IRack } from \"../../store/models/box.interface\";\r\nimport { IProductList } from \"../../store/models/product.interface\";\r\nimport TextInput from \"../../common/components/TextInput\";\r\nimport DateInput from \"../../common/components/DateInput\";\r\nimport PrintCode from \"../../common/components/PrintCode\";\r\nimport CalculateNonPerceptualTime from \"../../common/components/CalculateNonPerceptualTime\";\r\n\r\nimport {\r\n\teditProduct,\r\n\tclearSelectedProduct,\r\n\tsetModificationState,\r\n\taddProduct,\r\n\tloadListOfProduct,\r\n} from \"../../store/actions/productsubmit.action\";\r\nimport { addNotification } from \"../../store/actions/notifications.action\";\r\nimport {\r\n\taddNewDoc,\r\n\tupdateDoc,\r\n\tgetRacks,\r\n\tgetIssuedDocumentList,\r\n\tgetNewQrCode,\r\n} from \"../../services/index\";\r\nimport {\r\n\tOnChangeModel,\r\n\tIProductFormState,\r\n} from \"../../common/types/Form.types\";\r\nimport SelectInput from \"../../common/components/Select\";\r\nimport Checkbox from \"../../common/components/Checkbox\";\r\nimport { IAccount } from \"../../store/models/account.interface\";\r\n/* import DatePicker, {\r\n  DayValue,\r\n  DayRange,\r\n  Day,\r\n} from \"react-modern-calendar-datepicker\"; */\r\nimport uniquebg from \"../../assets/images/uniquebg.png\";\r\n \r\nimport APP_CONST from \"../../common/contant\";\r\nconst ProductForm: React.FC = () => {\r\n\tconst account: IAccount = useSelector((state: IStateType) => state.account);\r\n\t//const componentRef = useRef();\r\n\r\n\tconst products: IProductSubmitState | null = useSelector(\r\n\t\t(state: IStateType) => state.productSubmit\r\n\t);\r\n\r\n\tlet product: IProduct | null = products.selectedForProductSubmit;\r\n\tconst isCreate: boolean =\r\n\t\tproducts.modificationState === ProductModificationStatus.Create;\r\n\r\n\tconst { roles = [], name, email } = account;\r\n\r\n\tconst [boxRacks, setBoxRacks] = useState([]);\r\n\tconst [formWithError, setFormWithError] = useState(false);\r\n\tconst [pickRack, setPickedRack] = useState(false);\r\n\tconst [qrRequested, setQrRequested] = useState({\r\n\t\tname: \"\",\r\n\t\tbox: \"\",\r\n\t\track: \"\",\r\n\t});\r\n\tconst [, setQrModified] = useState(false);\r\n\tconst selectField = [\"box\"];\r\n\tconst dispatch: Dispatch<any> = useDispatch();\r\n\r\n\tconst [touchedFields, setTouchedFields] = useState({\r\n\t\tbox: false,\r\n\t\track: false,\r\n\t\tcategory: false,\r\n\t\tdocument_type: false,\r\n\t\ttype_of_space: false,\r\n\t});\r\n\tconst [documentReadyToReturn, setDocumentReadyToReturn] = useState(false);\r\n\tconst [documentReturnReadyToApprove, setDocumentReturnReadyToApprove] =\r\n\t\tuseState(false);\r\n\tconst [documentConfirmToTakeout, setDocumentConfirmToTakeout] =\r\n\t\tuseState(false);\r\n\r\n\t//Document Category loaded\r\n\tconst doccategoriesList: IDocCategoryState | null = useSelector(\r\n\t\t(state: IStateType) => state.docCategories\r\n\t);\r\n\tlet listOfCate: { id: string; name: string }[] = [];\r\n\tdoccategoriesList.docCategories.forEach((doc) => {\r\n\t\tlet me = { id: doc._id, name: doc.name };\r\n\t\tlistOfCate.push(me);\r\n\t});\r\n\t//Document Boxes loaded\r\n\tconst boxes: IBoxState = useSelector((state: IStateType) => state.boxes);\r\n\tlet listOfBoxws: { id: string; name: string }[] = [];\r\n\tboxes.boxes.forEach((doc) => {\r\n\t\tlet me = { id: doc._id, name: doc.name };\r\n\t\tlistOfBoxws.push(me);\r\n\t});\r\n\r\n\t//Document Types loaded\r\n\tconst docTypeList: IDocTypeState | null = useSelector(\r\n\t\t(state: IStateType) => state.docTypes\r\n\t);\r\n\tlet listOfType: { id: string; name: string }[] = [];\r\n\tdocTypeList.docTypes.forEach((doc) => {\r\n\t\tlet me = { id: doc._id, name: doc.name };\r\n\t\tlistOfType.push(me);\r\n\t});\r\n\r\n\tvar future = new Date();\r\n\tfuture.setDate(future.getDate() + 30);\r\n\r\n\tif (!product || isCreate) {\r\n\t\t\t\r\n\t\tlet dt = new Date();\r\n\t\tlet selectedDate = new Date(dt.setFullYear(dt.getFullYear() + APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD)); \r\n\t\t//let timeSeed = new Date(selectedDate).getUTCFullYear() - new Date().getUTCFullYear();// parseInt(value.toString());\r\n\t\tlet timeSeed = new Date(selectedDate).getUTCFullYear() - new Date().getUTCFullYear();// parseInt(value.toString());\r\n\t\t\r\n\t\t\r\n\t\tconst {  rentention=''} = add_years(timeSeed);\r\n\r\n\t\tproduct = {\r\n\t\t\t_id: \"\",\r\n\t\t\tname: \"\",\r\n\t\t\tdescription: \"\",\r\n\t\t\tbox: \"\",\r\n\t\t\track: \"\",\r\n\t\t\tcategory: \"\",\r\n\t\t\ttype_of_space: \"\",\r\n\t\t\tdocument_type: \"\",\r\n\t\t\tqr_code: \"\",\r\n\t\t\tdocument_no: \"\",\r\n\t\t\tmanufacturedate: \"\",\r\n\t\t\texpiredate: \"\",\r\n\t\t\tdocument_info: {},\r\n\t\t\tretension_time: {\r\n\t\t\t\ttime: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\r\n\t\t\t\tdefaultYear: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\r\n\t\t\t\tretension_exact_date: new Date(selectedDate).toLocaleString('en-US'),\r\n\t\t\t\tcalculateNonPerceptualTime: rentention.toString(),\r\n\t\t\t},\r\n\t\t\tdocument_request_info: {},\r\n\t\t\tis_requested_for_takeout: false,\r\n\t\t\ttakeout_return_date: future,\r\n\t\t\ttakeout_requested_details: {},\r\n\r\n\t\t\tdoc_requested_department: {},\r\n\t\t\tdocument_type_details : {},\r\n\t\t\tisRequestedDocument: false,\r\n\t\t\tdocStatus : \"archived\",\r\n\t\t\tno_of_copy : \"\",\r\n\t\t\tno_of_page : \"\"\r\n\t\t};\r\n\t} else {\r\n\t\tconst { box = \"\", rack = \"\" } = product;\r\n\r\n\t\tif (box) {\r\n\t\t\tlet selectBox = boxes.boxes.filter((boxe) => boxe.name === box);\r\n\t\t\tlet selectedBox = \"\";\r\n\t\t\tif (selectBox.length > 0) {\r\n\t\t\t\tselectedBox = selectBox[0]._id;\r\n\t\t\t}\r\n\r\n\t\t\tif (selectedBox && rack && boxRacks.length === 0) {\r\n\t\t\t\tgetRacks(selectedBox,account).then((racks = []) => {\r\n\t\t\t\t\tif (racks.length > 0) {\r\n\t\t\t\t\t\tsetBoxRacks(racks);\r\n\t\t\t\t\t\tsetPickedRack(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst [formState, setFormState] = useState({\r\n\t\t_id: { error: \"\", value: product._id },\r\n\t\tname: { error: \"\", value: product.name },\r\n\t\tdescription: { error: \"\", value: product.description },\r\n\t\tbox: { error: \"\", value: product.box },\r\n\t\track: { error: \"\", value: product.rack },\r\n\t\tcategory: { error: \"\", value: product.category },\r\n\t\ttype_of_space: { error: \"\", value: product.type_of_space },\r\n\t\tdocument_type: { error: \"\", value: product.document_type },\r\n\t\tno_of_copy: { error: \"\", value: product.no_of_copy },\r\n\t\tno_of_page: { error: \"\", value: product.no_of_page },\r\n\t\tqr_code: { error: \"\", value: product.qr_code },\r\n\t\tmanufacturedate: { error: \"\", value: product.manufacturedate },\r\n\t\texpiredate: { error: \"\", value: product.expiredate },\r\n\t\ttakeout_return_date: {\r\n\t\t\terror: \"\",\r\n\t\t\tvalue: product.takeout_return_date ? product.takeout_return_date : future,\r\n\t\t},\r\n\r\n\t\tretension_time: {\r\n\t\t\terror: \"\",\r\n\t\t\tvalue: {\r\n\t\t\t\t/* time: product.retension_time ? product.retension_time.time : 0,\r\n\t\t\t\tdefaultYear: product.retension_time\r\n\t\t\t\t\t? product.retension_time.defaultYear\r\n\t\t\t\t\t: 0,\r\n\t\t\t\tcalculateNonPerceptualTime: product.retension_time\r\n\t\t\t\t\t? product.retension_time.calculateNonPerceptualTime\r\n\t\t\t\t\t: 0,\r\n\t\t\t\t\tretension_exact_date : product.retension_time.retension_exact_date,  */\r\n\r\n\r\n\r\n\t\t\t\t\ttime: product.retension_time.time,\r\n\t\t\t\t\tdefaultYear: product.retension_time.defaultYear,\r\n\t\t\t\t\tretension_exact_date : product.retension_time.retension_exact_date, \r\n\t\t\t\t\tcalculateNonPerceptualTime:\r\n\t\t\t\t\tproduct.retension_time.calculateNonPerceptualTime,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdocument_request_info: { error: \"\", value: product.document_request_info },\r\n\t\tis_requested_for_takeout: {\r\n\t\t\terror: \"\",\r\n\t\t\tvalue: product.is_requested_for_takeout,\r\n\t\t},\r\n\t\tdocument_type_details: { error: \"\", value: product.document_type_details },\r\n\t\tdocStatus: { error: \"\", value: product.docStatus ? product.docStatus  : 'archived' },\r\n\t});\r\n\r\n\tif (formState.qr_code.value === \"\") {\r\n\t\tgenerateCode().then((res) => {\r\n\t\t\tsetFormState({\r\n\t\t\t\t...formState,\r\n\r\n\t\t\t\t[\"qr_code\"]: { error: \"\", value: res.code },\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction add_years(n: number) {\r\n\t\tlet dt = new Date();\r\n\t\tconst calcDat = new Date(dt.setFullYear(dt.getFullYear() + n));\r\n\t\t\r\n\r\n\t\treturn {exactDate : calcDat, rentention :(\"0\" + (calcDat.getMonth() + 1)).slice(-2) + \"/\" + calcDat.getFullYear() }\r\n\t\t \r\n\t}\r\n\r\n\tfunction hasRetensionChanged(model: OnChangeModel) {\r\n\t\tconst value : any = model.value ||{};\r\n\t\tconst selDate:any  = value.value;\r\n \r\n\r\n\t\t\r\n\t\tlet timeSeed = new Date(selDate).getUTCFullYear() - new Date().getUTCFullYear();// parseInt(value.toString());\r\n\t\t\r\n\t\t\r\n\t\tconst {  rentention=''} = add_years(timeSeed);\r\n ;\r\n\t\tsetFormState({\r\n\t\t\t...formState,\r\n\t\t\t[\"retension_time\"]: {\r\n\t\t\t\terror: \"\",\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\ttime: timeSeed,\r\n\t\t\t\t\tdefaultYear: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\r\n\t\t\t\t\tretension_exact_date: new Date(selDate).toLocaleString('en-US'),\r\n\t\t\t\t\tcalculateNonPerceptualTime: rentention.toString(),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t\t/* const value : any = model.value ||{};\r\n\t\tconst selDate:any  = value.value;\r\n \r\n\r\n\t\t\r\n\t\tlet timeSeed = new Date(selDate).getUTCFullYear() - new Date().getUTCFullYear();// parseInt(value.toString());\r\n\r\n \t\tsetFormState({\r\n\t\t\t...formState,\r\n\t\t\t[\"retension_time\"]: {\r\n\t\t\t\terror: \"\",\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\ttime: timeSeed,\r\n\t\t\t\t\tdefaultYear: 3,\r\n\t\t\t\t\tretension_exact_date: new Date(selDate).toString(),\r\n\t\t\t\t\tcalculateNonPerceptualTime: add_years(timeSeed).toString(),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}); */\r\n\t\t/*\r\n\t\t const { value = 0 } = model;\r\n\t\tlet timeSeed = parseInt(value.toString());\r\n\r\n\t\tsetFormState({\r\n\t\t\t...formState,\r\n\t\t\t[\"retension_time\"]: {\r\n\t\t\t\terror: \"\",\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\ttime: timeSeed,\r\n\t\t\t\t\tdefaultYear: 3,\r\n\t\t\t\t\tretension_exact_date: new Date(selDate).toString(),\r\n\r\n\t\t\t\t\tcalculateNonPerceptualTime: add_years(timeSeed).toString(),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}); */\r\n\t}\r\n\tfunction hasFormValueChanged(model: OnChangeModel): void {\r\n\t\tconst { field, value = \"\", name = \"\" } = model;\r\n\t\tif (selectField.indexOf(field) > -1) {\r\n\t\t\tsetTouchedFields({ ...touchedFields, [model.field]: true });\r\n\t\t\tgetRacks(value,account).then((racks = []) => {\r\n\t\t\t\tif (racks.length > 0) {\r\n\t\t\t\t\tsetPickedRack(true);\r\n\t\t\t\t\tsetBoxRacks(racks);\r\n\t\t\t\t\t// dispatch(updateRacks(racks));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetFormState({\r\n\t\t\t\t...formState,\r\n\t\t\t\t[model.field]: { error: model.error, value: model.value },\r\n\t\t\t});\r\n\t\t\tsetQrRequested(\r\n\t\t\t\tObject.assign({ ...qrRequested }, { [model.field]: model.value })\r\n\t\t\t);\r\n\t\t\tsetQrModified(true);\r\n\t\t} else {\r\n\t\t\t//Prepare QR\r\n\t\t\tif (field === \"name\") {\r\n\t\t\t\tsetQrRequested(\r\n\t\t\t\t\tObject.assign({ ...qrRequested }, { [model.field]: value })\r\n\t\t\t\t);\r\n\t\t\t\t// setQrModified(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (name === \"type_of_space\") {\r\n\r\n\t\t\t\t \r\n\t\t\t\tsetTouchedFields({ ...touchedFields, [\"type_of_space\"]: true });\r\n\r\n\t\t\t\tif (model.field !== \"perceptual\") {\r\n\t\t\t\t\tsetFormState({\r\n\t\t\t\t\t\t...formState,\r\n\t\t\t\t\t\t[\"retension_time\"]: {\r\n\t\t\t\t\t\t\terror: \"\",\r\n\t\t\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t\t\ttime: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\r\n\t\t\t\t\t\t\t\tdefaultYear: APP_CONST.DEFAULT_PERCEPTUAL_YEAR_TO_ADD,\r\n\t\t\t\t\t\t\t\tretension_exact_date : \"\",\r\n\t\t\t\t\t\t\t\tcalculateNonPerceptualTime: \"\", \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t[model.name]: { error: model.error, value: model.field },\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFormState({\r\n\t\t\t\t\t\t...formState,\r\n\t\t\t\t\t\t[model.name]: { error: model.error, value: model.field },\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetTouchedFields({ ...touchedFields, [model.field]: true });\r\n\t\t\t\tsetFormState({\r\n\t\t\t\t\t...formState,\r\n\t\t\t\t\t[model.field]: { error: model.error, value: model.value },\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction hasRacksValueChanged(model: OnChangeModel): void {\r\n\t\tconst newObj: any = boxRacks;\r\n\t\tconst { field = \"\" } = model;\r\n\r\n\t\tboxRacks.forEach((rack: IRack, index) => {\r\n\t\t\tif (rack._id === field) {\r\n\t\t\t\tnewObj[index][\"picked\"] = true;\r\n\t\t\t} else {\r\n\t\t\t\tnewObj[index][\"picked\"] = false;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetBoxRacks(newObj);\r\n\r\n\t\tsetFormState({\r\n\t\t\t...formState,\r\n\t\t\t[\"rack\"]: { error: model.error, value: field },\r\n\t\t});\r\n\t\tsetTouchedFields({ ...touchedFields, [\"rack\"]: true });\r\n\t}\r\n\r\n\tfunction saveUser(event: FormEvent<HTMLFormElement>): void {\r\n\t\t//var target = document.activeElement;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tif (!isFormInvalid()) {\r\n\t\t\tsetFormWithError(!formWithError);\r\n\t\t} else {\r\n\t\t\tlet saveUserFn: Function = isCreate ? addProduct : editProduct;\r\n\t\t\tlet modeOfAction: String = isCreate ? \"ADD\" : \"EDIT\";\r\n\t\t\tsaveForm(formState, saveUserFn, modeOfAction);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction saveForm(\r\n\t\tformState: IProductFormState,\r\n\t\tsaveFn: Function,\r\n\t\tmode: String\r\n\t): void {\r\n\t\tif (product) {\r\n\t\t\tconst loggedInUserRole = roles[0] ? roles[0] : \"Developer\";\r\n\t\t\tconst currentUser = {\r\n\t\t\t\trole: loggedInUserRole,\r\n\t\t\t\tname,\r\n\t\t\t\temail,\r\n\t\t\t};\r\n\r\n\t\t\tif (mode === \"ADD\") {\r\n\t\t\t\tconst {document_request_info : { value:{ document_issued_from = \"\", } = {} } = {}} = formState;\r\n\t\t\t\tlet boxInfo = {\r\n\t\t\t\t\tname: formState.name.value,\r\n\t\t\t\t\tdescription: formState.description.value,\r\n\t\t\t\t\tbox: formState.box.value,\r\n\t\t\t\t\track: formState.rack.value,\r\n\t\t\t\t\tcategory: formState.category.value,\r\n\t\t\t\t\tqr_code: formState.qr_code.value,\r\n\t\t\t\t\tmanufacturedate: formState.manufacturedate.value,\r\n\t\t\t\t\texpiredate: formState.expiredate.value,\r\n\t\t\t\t\ttype_of_space: formState.type_of_space.value,\r\n\t\t\t\t\tdocument_type: formState.document_type.value,\r\n\t\t\t\t\tdocument_info: {\r\n\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\tstatus:\r\n\t\t\t\t\t\t\tloggedInUserRole === \"Qualityuser\" ? \"approved\" : \"n-approved\",\r\n\t\t\t\t\t\tcreatedBy: { ...currentUser },\r\n\t\t\t\t\t\tcreatedOn: new Date(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tretension_time: formState.retension_time.value,\r\n\t\t\t\t\tdocument_type_details: formState.document_type_details.value,\r\n\t\t\t\t\tdoc_issuance_ref_num : formState.qr_code.value\r\n\t\t\t\t};\r\n\r\n\t\t\t\taddNewDoc(boxInfo, account).then((status) => {\r\n\t\t\t\t\tgetIssuedDocumentList(account, { userId: account.emp_id }).then(\r\n\t\t\t\t\t\t(items: IProductList) => {\r\n\t\t\t\t\t\t\tdispatch(loadListOfProduct(items));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\taddNotification(\r\n\t\t\t\t\t\t\t\"New Document added\",\r\n\t\t\t\t\t\t\t`Document ${formState.name.value} added by you`\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdispatch(clearSelectedProduct());\r\n\t\t\t\t\tdispatch(setModificationState(ProductModificationStatus.None));\r\n\t\t\t\t});\r\n\t\t\t} else if (mode === \"EDIT\") {\r\n\t\t\t\tconst sumittedDocInfo = {\r\n\t\t\t\t\tdocument_submitted_on: new Date(),\r\n\t\t\t\t\tdocument_submitted_by: account.emp_id,\r\n\t\t\t\t};\r\n\r\n\t\t\t \r\n\r\n\t\t\t\tconst {document_request_info : { value:{ document_issued_from = \"\", } = {} } = {}} = formState;\r\n\r\n\r\n\t\t\t\tlet boxInfoUpt = {\r\n\t\t\t\t\tid: formState._id.value,\r\n\t\t\t\t\tname: formState.name.value,\r\n\t\t\t\t\tdescription: formState.description.value,\r\n\t\t\t\t\tbox: formState.box.value,\r\n\t\t\t\t\track: formState.rack.value,\r\n\t\t\t\t\tcategory: formState.category.value,\r\n\t\t\t\t\tmanufacturedate: formState.manufacturedate.value\r\n\t\t\t\t\t\t? formState.manufacturedate.value\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t\texpiredate: formState.expiredate.value\r\n\t\t\t\t\t\t? formState.expiredate.value\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t\ttype_of_space: formState.type_of_space.value,\r\n\t\t\t\t\tqr_code: formState.qr_code.value,\r\n\t\t\t\t\tdocument_no: document_issued_from,\r\n\t\t\t\t\tdocument_type: formState.document_type.value,\r\n\t\t\t\t\tretension_time: formState.retension_time.value,\r\n\t\t\t\t\tisActive: true,\r\n\t\t\t\t\tdocument_request_info: formState.document_request_info.value,\r\n\t\t\t\t\tis_requested_for_takeout: formState.is_requested_for_takeout.value,\r\n\t\t\t\t\tdocument_type_details: formState.document_type_details.value,\r\n\t\t\t\t\tdoc_issuance_ref_num : formState.qr_code.value\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\r\n\t\t \r\n\r\n\r\n\r\n\r\n\t\t\t\t let seltdPro:any = {};\r\n\t\t\t\t \r\n\t\t\t\tif(products !== null && products.productSubmit?.length > 0){\r\n\t\t\t\t\tseltdPro = products?.productSubmit.filter(\r\n\t\t\t\t\t\t(pro) => pro._id === formState._id.value\r\n\t\t\t\t\t)[0];\r\n\t\t\t\t} \r\n\t\t\t\t// let seltdPro = products?.productSubmit.filter(\r\n\t\t\t\t// \t(pro) => pro._id === formState._id.value\r\n\t\t\t\t// )[0];\r\n\t\t\t\tconst { document_info = {} } = seltdPro || {};\r\n\r\n\t\t\t\tlet updatedByArrau = [{ ...currentUser, updatedOn: new Date() }];\r\n\t\t\t\tif (document_info.updatedBy) {\r\n\t\t\t\t\tupdatedByArrau = [\r\n\t\t\t\t\t\t...document_info.updatedBy,\r\n\t\t\t\t\t\t{ ...currentUser, updatedOn: new Date() },\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\t//,\r\n\r\n\t\t\t\tlet updatedDoc_Info = {\r\n\t\t\t\t\t...document_info,\r\n\t\t\t\t\tactive: true,\r\n\t\t\t\t\tcreatedBy: { ...currentUser },\r\n\t\t\t\t\tcreatedOn: new Date(),\r\n\t\t\t\t\tupdatedBy: updatedByArrau,\r\n\t\t\t\t};\r\n\r\n\r\n\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tformState.type_of_space.value &&\r\n\t\t\t\t\tloggedInUserRole === \"Qualityuser\" &&\r\n\t\t\t\t\tdocument_info.status === \"n-approved\"\r\n\t\t\t\t) {\r\n\t\t\t\t\tupdatedDoc_Info = {\r\n\t\t\t\t\t\t...updatedDoc_Info,\r\n\t\t\t\t\t\tstatus: \"approved\",\r\n\t\t\t\t\t\tapprovedBy: currentUser,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t//  takeout_return_date : formState.takeout_return_date.value,\r\n\t\t\t\tlet takeOut = {};\r\n\t\t\t\tif (\r\n\t\t\t\t\tformState.is_requested_for_takeout &&\r\n\t\t\t\t\t!documentReadyToReturn &&\r\n\t\t\t\t\t!documentReturnReadyToApprove\r\n\t\t\t\t) {\r\n\t\t\t\t\ttakeOut = {\r\n\t\t\t\t\t\ttakeout_return_date: formState.takeout_return_date.value,\r\n\t\t\t\t\t\tis_requested_for_takeout_submit: true,\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (documentReadyToReturn && !documentReturnReadyToApprove) {\r\n\t\t\t\t\ttakeOut = { is_requested_for_takeout_return: true };\r\n\t\t\t\t} else if (documentReturnReadyToApprove) {\r\n\t\t\t\t\ttakeOut = { is_requested_for_takeout_return_approve: true };\r\n\t\t\t\t}\r\n\r\n\t\t\t\tboxInfoUpt = {\r\n\t\t\t\t\t...boxInfoUpt,\r\n\t\t\t\t\t...takeOut,\r\n\t\t\t\t\t...{\r\n\t\t\t\t\t\tdocument_info: updatedDoc_Info,\r\n\t\t\t\t\t\tdocument_request_info: {\r\n\t\t\t\t\t\t\t...boxInfoUpt.document_request_info,\r\n\t\t\t\t\t\t\t...sumittedDocInfo,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tupdateDoc(boxInfoUpt, account).then((status) => {\r\n\r\n\t\t\t\t\t dispatch(\r\n\t\t\t\t\t\tsaveFn({\r\n\t\t\t\t\t\t\t...product,\r\n\t\t\t\t\t\t\t...status,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t); \r\n\r\n\t\t\t\t\tgetIssuedDocumentList(account.auth, {\"userId\" : account.emp_id }).then((items: IProductList) => {\r\n\t\t\t\t\t\tdispatch(loadListOfProduct(items));\r\n\t\t\t\t\t  });\r\n\t\t\t\t\t\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\taddNotification(\r\n\t\t\t\t\t\t\t\"Box \",\r\n\t\t\t\t\t\t\t`Document ${formState.name.value} edited by you`\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdispatch(clearSelectedProduct());\r\n\t\t\t\t\tdispatch(setModificationState(ProductModificationStatus.None)); \r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction cancelForm(): void {\r\n\t\tdispatch(setModificationState(ProductModificationStatus.None));\r\n\t}\r\n\r\n\tfunction isFormInvalid(): boolean {\r\n\t\tlet formIsValid = true;\r\n\t\tif (formState.name.value === \"\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.name.error = \"Document name is mandatory\";\r\n\t\t} else if (formState.document_type.value === \"\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.document_type.error = \"Document Type is mandatory\";\r\n\t\t} else if (formState.category.value === \"\" && roles[0] === \"Qualityuser\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.category.error = \"Compactor is mandatory\";\r\n\t\t} else if (formState.description.value === \"\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.description.error = \"Description is mandatory\";\r\n\t\t} else if (formState.qr_code.value === \"\" && roles[0] === \"Qualityuser\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.qr_code.error = \"Qr Code for the doc is mandatory\";\r\n\t\t} else if (formState.box.value === \"\" && roles[0] === \"Qualityuser\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.box.error = \"Rack system is mandatory\";\r\n\t\t} else if (formState.rack.value === \"\" && roles[0] === \"Qualityuser\") {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.rack.error = \"Series is mandatory\";\r\n\t\t} else if (\r\n\t\t\tformState.type_of_space.value === \"\" &&\r\n\t\t\troles[0] === \"Qualityuser\"\r\n\t\t) {\r\n\t\t\tformIsValid = false;\r\n\t\t\tformState.type_of_space.error = \"Type of space is mandatory\";\r\n\t\t}\r\n\r\n\t\tsetFormState(formState);\r\n\r\n\t\treturn formIsValid;\r\n\t}\r\n\r\n\tfunction loadRacks() {\r\n\t\tif (boxRacks.length > 0) {\r\n\t\t\tconst { rack = \"\" } = product || {};\r\n\t\t\treturn boxRacks.map((rack2) => {\r\n\t\t\t\tconst { name, _id, status, picked = false, box = \"\" } = rack2; //destructuring\r\n\r\n\t\t\t\tlet disbaledStatus = false;\r\n\t\t\t\tlet pickedStatus = picked;\r\n\t\t\t\tif (formState.rack.value) {\r\n\t\t\t\t\tif (formState.rack.value === name) {\r\n\t\t\t\t\t\tpickedStatus = true;\r\n\t\t\t\t\t} else if (formState.rack.value === _id) {\r\n\t\t\t\t\t\tpickedStatus = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (product?.box === box) {\r\n\t\t\t\t\t\tlet selectdRack = _id === rack ? _id : \"\";\r\n\t\t\t\t\t\tpickedStatus = _id === selectdRack ? true : pickedStatus;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (status === \"Occupied\") {\r\n\t\t\t\t\tdisbaledStatus = true;\r\n\t\t\t\t\tpickedStatus = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"col-xs-2\" key={_id}>\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\tfield={_id}\r\n\t\t\t\t\t\t\tonChange={hasRacksValueChanged}\r\n\t\t\t\t\t\t\tlabel={name}\r\n\t\t\t\t\t\t\tvalue={pickedStatus}\r\n\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\tdisabled={disbaledStatus}\r\n\t\t\t\t\t\t\tcustomError={\"\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction generateCode() {\r\n\t\treturn getNewQrCode(formState).then((status) => {\r\n\t\t\treturn status;\r\n\t\t});\r\n\t}\r\n\r\n\tlet type_of_space_Check = \"\";\r\n\tif (formState.type_of_space !== undefined) {\r\n\t\ttype_of_space_Check = formState.type_of_space.value;\r\n\t}\r\n\tfunction printOrder() {\r\n\t\tvar myWindow = window.open(\"\", \"\", \"width=750,height=750\");\r\n\t\tmyWindow?.document.write(\r\n\t\t\tdocument.getElementById(\"uniquename\")?.innerHTML || \"No Code\"\r\n\t\t);\r\n\r\n\t\tmyWindow?.document.close();\r\n\t\tmyWindow?.focus();\r\n\t\tmyWindow?.print();\r\n\t\tmyWindow?.close();\r\n\t}\r\n\r\n\tconst {\r\n\t\ttakeout_requested_details: { current_status: { code = \"\" } = {} } = {},\r\n\t\tis_requested_for_takeout = false,\r\n\t} = product;\r\n\r\n \r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div className=\"col-xl-7 col-lg-7\">\r\n\t\t\t\t<div className=\"card shadow mb-4\">\r\n\t\t\t\t\t<div className=\"card-header py-2\">\r\n\t\t\t\t\t\t<h6 className=\"m-0 font-weight-bold text-white\">\r\n\t\t\t\t\t\t\tDocument {isCreate ? \"create\" : \"edit\"}\r\n\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<form onSubmit={saveUser}>\r\n\t\t\t\t\t\t\t<div className=\"form-row 14 font-14\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-group col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formState.name.value}\r\n\t\t\t\t\t\t\t\t\t\tcustomError={formState.name.error}\r\n\t\t\t\t\t\t\t\t\t\tfield=\"name\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\t\tmaxLength={20}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Name of the document\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name of the document\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"form-group col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<SelectInput\r\n\t\t\t\t\t\t\t\t\t\tid=\"input_document_type\"\r\n\t\t\t\t\t\t\t\t\t\tfield=\"document_type\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Type of Document\"\r\n\t\t\t\t\t\t\t\t\t\toptions={listOfType}\r\n\t\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\tvalue={formState.document_type.value}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\tcustomError={formState.document_type.error}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{roles[0] === \"Qualityuser\" && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t<SelectInput\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"input_category\"\r\n\t\t\t\t\t\t\t\t\t\t\tfield=\"category\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Compactor\"\r\n\t\t\t\t\t\t\t\t\t\t\toptions={listOfCate}\r\n\t\t\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formState.category.value}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomError={formState.category.error}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-row 13 font-14\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\t\t\tid=\"input_description\"\r\n\t\t\t\t\t\t\t\t\t\tfield=\"description\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={formState.description.value}\r\n\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\t\t\t\t\tcustomError={formState.description.error}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{!product.is_requested_for_takeout && (\r\n\t\t\t\t\t\t\t\t<div className=\"form-row 12 font-14\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t<DateInput\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"manufacturedate\" \r\n\t\t\t\t\t\t\t\t\t\t\tfield=\"manufacturedate\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformState.manufacturedate.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(formState.manufacturedate.value) \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date('0001-01-01T00:00:00Z')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Manufacture date\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Manufacture date\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t<DateInput\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"expiredate\"\r\n\t\t\t\t\t\t\t\t\t\t\tfield=\"expiredate\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformState.expiredate.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(formState.expiredate.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date('0001-01-01T00:00:00Z')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Expire date   \"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Expire date\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t{roles[0] === \"Qualityuser\" && (\r\n\t\t\t\t\t\t\t\t<div className=\"form-row 12 font-14\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-group col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input_box\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield=\"box\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Rack system\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={listOfBoxws}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formState.box.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomError={formState.box.error}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{pickRack && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-row\">Series {loadRacks()}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formState.rack.error ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"invalid-field\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formState.rack.error}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-group col-md-12 font-14\">\r\n\t\t\t\t\t\t\t\t\t{roles[0] === \"Qualityuser\" && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-3\">Type of Space</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-md-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ paddingLeft: \"10px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\"perceptual_space\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield={\"perceptual\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\"Perpetual documents \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype_of_space_Check === \"perceptual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"type_of_space\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomError={\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br />{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield={\"non_perceptual\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={hasFormValueChanged}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\"Non Perpetual documents \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype_of_space_Check === \"non_perceptual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"type_of_space\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomError={\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{type_of_space_Check === \"non_perceptual\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CalculateNonPerceptualTime\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={hasRetensionChanged}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formState.retension_time.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formState.type_of_space.error ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"invalid-field\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formState.type_of_space.error}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-12\" key={\"non_perceptual_space\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card print-section\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"uniquename\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundImage: \"url(\" + uniquebg + \")\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundPosition: \"center\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundSize: \"cover\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundRepeat: \"no-repeat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: \"58px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \"300px\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: \"32px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formState.qr_code.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PrintCode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcode={formState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocCategories={doccategoriesList.docCategories}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-footer text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={printOrder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary font-14\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPrint\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>{\" \"}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group col-md-12\">\r\n\t\t\t\t\t\t\t\t{product.is_requested_for_takeout && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger font-14\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => cancelForm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{documentConfirmToTakeout && code === \"issued\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success left-margin font-14`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTakeout\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{code === \"issued\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ padding: \"12px 4px 3px 12px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield={\"id_doc_takeout_retuen\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDocumentConfirmToTakeout(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!documentConfirmToTakeout\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\"Document confirm to takeout\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={documentConfirmToTakeout}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"id_doc_takeout_retuen\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomError={\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{documentReadyToReturn && (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success left-margin font-14`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{code === \"submitted\" && is_requested_for_takeout && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ padding: \"12px 4px 3px 12px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield={\"id_doc_takeout_retuen\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDocumentReadyToReturn(!documentReadyToReturn);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\"Document ready to return\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={documentReadyToReturn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"id_doc_takeout_retuen\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomError={\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{code === \"returned\" && documentReturnReadyToApprove && (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success left-margin font-14`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tApprove Return\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{code === \"returned\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ padding: \"12px 4px 3px 12px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"input_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield={\"id_doc_takeout_retuen\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDocumentReturnReadyToApprove(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!documentReturnReadyToApprove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\"Document return ready to approve\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={documentReturnReadyToApprove}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"id_doc_takeout_retuen\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcustomError={\"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!product.is_requested_for_takeout && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-row\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger font-14\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => cancelForm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-success left-margin font-14`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default ProductForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}