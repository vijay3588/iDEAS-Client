{"ast":null,"code":"var _jsxFileName = \"C:\\\\iDASnew\\\\client\\\\src\\\\components\\\\DocIssuance\\\\DocIssuanceList.tsx\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nfunction DocApprovalList(props) {\n  const docIssuances = useSelector(state => state.docIssuances);\n  function onClickProductSelected(cell, row, rowIndex) {\n    if (props.onSelect) props.onSelect(row);\n  }\n  function onClickProductDelete(cell, row, rowIndex) {\n    if (props.onSelectDelete) props.onSelectDelete(row);\n  }\n  function document_type_format(cell, row) {\n    if (row.doc_requested_doctype) {\n      return row.doc_requested_doctype.name;\n    }\n    return \"-\";\n  }\n  function buttonFormatter(cell, row, enumObject, rowIndex) {\n    const {\n      docIssuanceModificationStatus = 0,\n      allowDelete\n    } = props;\n    if (docIssuanceModificationStatus === 0) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-border\",\n        onClick: () => onClickProductSelected(cell, row, rowIndex),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa fa-pen\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-border\",\n        disabled: true,\n        style: {\n          cursor: \"not-allowed\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa fa-pen\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      })));\n    }\n  }\n  const docApprovalFormatter = (cell, row) => {\n    const {\n      approval = [],\n      issuance = {}\n    } = row;\n    let stsus = \"\";\n    if (approval.length > 0) {\n      let issued = false;\n      approval.forEach(appr => {\n        if (appr.status === \"pending\") {\n          /*  stsus +=\r\n             \"<span class=' approval-status btn-info'>\" +\r\n             appr.approve_access_level +\r\n             \" approval \" +\r\n             \"Pending</span>&nbsp;\"; */\n          stsus += \"<span class=' approval-status btn-info'>\" + \"<span style=' text-transform: capitalize;'> \" + appr.approve_access_level + \" Appproval\" + \" </span>\" + \" is Pending</span>\";\n        } else if (appr.status === \"approved\") {\n          const {\n            doc_issued_by = [],\n            is_issued = false,\n            is_doc_issuance_cancelled = false\n          } = issuance;\n          if (is_doc_issuance_cancelled && !is_issued) {\n            stsus += \"<span class=' approval-status btn-info'>Document request issue has been rejected</span>\";\n          } else if (doc_issued_by.length > 0 && !is_issued) {\n            stsus += \"<span class=' approval-status btn-info issued-cls'>Part of request has been issued</span>\";\n          } else if (is_issued) {\n            stsus += \"<span class=' approval-status btn-info issued-cls'>Request has been issued</span>\";\n          } else {\n            stsus += \"<span class=' approval-status btn-info'>\" + appr.approve_access_level + \" is Approved</span>\";\n          }\n        }\n      });\n    }\n    return stsus;\n  };\n  const options = {\n    clearSearch: true\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"portlet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BootstrapTable, {\n    options: options,\n    data: docIssuances.docIssuances,\n    pagination: true,\n    hover: true,\n    search: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    dataField: \"_id\",\n    isKey: true,\n    searchable: false,\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    dataField: \"request_no\",\n    width: \"10%\",\n    className: \"thead-light-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, \"Request No\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    dataField: \"doc_type\",\n    className: \"thead-light-1\",\n    dataFormat: document_type_format,\n    width: \"10%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, \"Doc Type\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    dataField: \"empl_id\",\n    className: \"thead-light-1\",\n    width: \"10%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"Emp Id\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    dataField: \"button\",\n    className: \"thead-light-1\",\n    width: \"35%\",\n    dataFormat: docApprovalFormatter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n    dataField: \"button\",\n    className: \"thead-light-1\",\n    width: \"10%\",\n    dataFormat: buttonFormatter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, \"Action\")));\n}\nexport default DocApprovalList;","map":{"version":3,"names":["React","useSelector","BootstrapTable","TableHeaderColumn","DocApprovalList","props","docIssuances","state","onClickProductSelected","cell","row","rowIndex","onSelect","onClickProductDelete","onSelectDelete","document_type_format","doc_requested_doctype","name","buttonFormatter","enumObject","docIssuanceModificationStatus","allowDelete","createElement","Fragment","type","className","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","disabled","style","cursor","docApprovalFormatter","approval","issuance","stsus","length","issued","forEach","appr","status","approve_access_level","doc_issued_by","is_issued","is_doc_issuance_cancelled","options","clearSearch","data","pagination","hover","search","dataField","isKey","searchable","hidden","width","dataFormat"],"sources":["C:/iDASnew/client/src/components/DocIssuance/DocIssuanceList.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  IStateType,\r\n  IDocIssuanceState,\r\n} from \"../../store/models/root.interface\";\r\nimport { IDocIssuance } from \"../../store/models/docIssuance.interface\";\r\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\r\n\r\nexport type productListProps = {\r\n  onSelect?: (product: IDocIssuance) => void;\r\n  onSelectDelete?: (product: IDocIssuance) => void;\r\n  children?: React.ReactNode;\r\n  docIssuanceModificationStatus: any;\r\n  allowDelete: boolean;\r\n};\r\n\r\nfunction DocApprovalList(props: productListProps): JSX.Element {\r\n  const docIssuances: IDocIssuanceState = useSelector(\r\n    (state: IStateType) => state.docIssuances\r\n  );\r\n\r\n  function onClickProductSelected(cell: any, row: any, rowIndex: any) {\r\n    if (props.onSelect) props.onSelect(row);\r\n  }\r\n  function onClickProductDelete(cell: any, row: any, rowIndex: any) {\r\n    if (props.onSelectDelete) props.onSelectDelete(row);\r\n  }\r\n\r\n  function document_type_format(cell: any, row: any) {\r\n\t\tif (row.doc_requested_doctype) {\r\n\t\t\treturn row.doc_requested_doctype.name;\r\n\t\t}\r\n\t\treturn \"-\";\r\n\t}\r\n\r\n  function buttonFormatter(\r\n    cell: any,\r\n    row: any,\r\n    enumObject: any,\r\n    rowIndex: any\r\n  ) {\r\n    const { docIssuanceModificationStatus = 0, allowDelete } = props;\r\n    if (docIssuanceModificationStatus === 0) {\r\n      return (\r\n        <>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-border\"\r\n            onClick={() => onClickProductSelected(cell, row, rowIndex)}\r\n          >\r\n            <i className=\"fas fa fa-pen\"></i>\r\n          </button>\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-border\"\r\n            disabled\r\n            style={{ cursor: \"not-allowed\" }}\r\n          >\r\n            <i className=\"fas fa fa-pen\"></i>\r\n          </button>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n\r\n  const docApprovalFormatter = (cell: any, row: any) => {\r\n    const { approval = [], issuance = {} } = row;\r\n\r\n    let stsus = \"\";\r\n    if (approval.length > 0) {\r\n      let issued = false;\r\n      approval.forEach((appr: any) => {\r\n        if (appr.status === \"pending\") {\r\n         /*  stsus +=\r\n            \"<span class=' approval-status btn-info'>\" +\r\n            appr.approve_access_level +\r\n            \" approval \" +\r\n            \"Pending</span>&nbsp;\"; */\r\n            stsus +=\r\n            \"<span class=' approval-status btn-info'>\" +\r\n\r\n            \"<span style=' text-transform: capitalize;'> \"+     appr.approve_access_level +  \" Appproval\" +\" </span>\"+        \r\n       \r\n           \r\n            \" is Pending</span>\";\r\n        } else if (appr.status === \"approved\") {\r\n          const { doc_issued_by = [], is_issued = false, is_doc_issuance_cancelled = false } = issuance;\r\n          if (is_doc_issuance_cancelled && !is_issued) {\r\n            stsus +=\r\n              \"<span class=' approval-status btn-info'>Document request issue has been rejected</span>\";\r\n          }\r\n          else if (doc_issued_by.length > 0 && !is_issued) {\r\n            stsus +=\r\n              \"<span class=' approval-status btn-info issued-cls'>Part of request has been issued</span>\";\r\n          } else if (is_issued) {\r\n            stsus +=\r\n              \"<span class=' approval-status btn-info issued-cls'>Request has been issued</span>\";\r\n          } else {\r\n            stsus +=\r\n              \"<span class=' approval-status btn-info'>\" +\r\n              appr.approve_access_level +\r\n              \" is Approved</span>\";\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return stsus;\r\n  }; \r\n  const options = {\r\n    clearSearch: true,\r\n  };\r\n\r\n  return (\r\n    <div className=\"portlet\">\r\n      <BootstrapTable\r\n        options={options}\r\n        data={docIssuances.docIssuances}\r\n        pagination={true}\r\n        hover={true}\r\n        search={true}\r\n      >\r\n        <TableHeaderColumn\r\n          dataField=\"_id\"\r\n          isKey\r\n          searchable={false}\r\n          hidden={true}\r\n        >\r\n          ID\r\n        </TableHeaderColumn>\r\n        <TableHeaderColumn\r\n          dataField=\"request_no\"\r\n          width=\"10%\"\r\n          className=\"thead-light-1\"\r\n         \r\n        >\r\n          Request No\r\n        </TableHeaderColumn>\r\n        <TableHeaderColumn\r\n          dataField=\"doc_type\"\r\n          className=\"thead-light-1\"\r\n          \tdataFormat={document_type_format}\r\n          width=\"10%\"\r\n        >\r\n          Doc Type\r\n        </TableHeaderColumn>\r\n        <TableHeaderColumn\r\n          dataField=\"empl_id\"\r\n          className=\"thead-light-1\"\r\n          width=\"10%\"\r\n        >\r\n          Emp Id\r\n        </TableHeaderColumn>\r\n        <TableHeaderColumn\r\n          dataField=\"button\"\r\n          className=\"thead-light-1\"\r\n          width=\"35%\"\r\n          dataFormat={docApprovalFormatter}\r\n        >\r\n          Status\r\n        </TableHeaderColumn>\r\n        <TableHeaderColumn\r\n          dataField=\"button\"\r\n          className=\"thead-light-1\"\r\n          width=\"10%\"\r\n          dataFormat={buttonFormatter}\r\n        >\r\n          Action\r\n        </TableHeaderColumn>\r\n      </BootstrapTable>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DocApprovalList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}