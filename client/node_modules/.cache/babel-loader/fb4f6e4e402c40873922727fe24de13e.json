{"ast":null,"code":"var _jsxFileName = \"C:\\\\iDASnew\\\\client\\\\src\\\\components\\\\Account\\\\Login.tsx\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { login } from \"../../store/actions/account.actions\";\nimport TextInput from \"../../common/components/TextInput\";\nimport { Link } from \"react-router-dom\";\nimport { loginUser } from \"../../services/index\";\nimport { addNotification, parseApiResult } from \"../../store/actions/notifications.action\";\nimport logo from \"../../assets/images/login-logo-new.jpg\";\nconst Login = () => {\n  const dispatch = useDispatch();\n  const [formState, setFormState] = useState({\n    email: {\n      error: \"\",\n      value: \"qualityuser@gmail.com\"\n    },\n    password: {\n      error: \"\",\n      value: \"qualityuser\"\n    }\n  });\n  function hasFormValueChanged(model) {\n    setFormState({\n      ...formState,\n      [model.field]: {\n        error: model.error,\n        value: model.value\n      }\n    });\n  }\n  function submit(e) {\n    e.preventDefault();\n    if (isFormInvalid()) {\n      return;\n    }\n    loginUser({\n      email: formState.email.value,\n      password: formState.password.value\n    }).then(status => {\n      const {\n        titleMesage = \"\",\n        bodyMessage = \"\"\n      } = parseApiResult(status);\n      const {\n        success = false\n      } = status;\n      if (success) {\n        dispatch(addNotification(titleMesage, bodyMessage));\n        dispatch(login(status.data));\n      } else {\n        dispatch(addNotification(titleMesage, bodyMessage ? bodyMessage : \"Unable to login\"));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n\n    // dispatch(login(formState.email.value));\n  }\n\n  function isFormInvalid() {\n    return formState.email.error || formState.password.error || !formState.email.value || !formState.password.value;\n  }\n  function getDisabledClass() {\n    let isError = isFormInvalid();\n    return isError ? \"disabled\" : \"\";\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-5 col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card o-hidden border-0 shadow-lg my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h4 text-gray-900 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"logo\",\n    width: \"200\",\n    height: \"120\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"user\",\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"input_email\",\n    field: \"email\",\n    value: formState.email.value,\n    onChange: hasFormValueChanged,\n    required: true,\n    maxLength: 100,\n    label: \"Email\",\n    customError: formState.email.error,\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group font-14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"input_password\",\n    field: \"password\",\n    value: formState.password.value,\n    onChange: hasFormValueChanged,\n    required: true,\n    maxLength: 100,\n    type: \"password\",\n    label: \"Password\",\n    customError: formState.password.error,\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: `btn btn-primary btn-user btn-block ${getDisabledClass()}`,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 23\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n    className: `btn btn-warning btn-user btn-block ${getDisabledClass()}`,\n    style: {\n      color: \"#fff\"\n    },\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 23\n    }\n  }, \"Register\"))))))))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useDispatch","login","TextInput","Link","loginUser","addNotification","parseApiResult","logo","Login","dispatch","formState","setFormState","email","error","value","password","hasFormValueChanged","model","field","submit","e","preventDefault","isFormInvalid","then","status","titleMesage","bodyMessage","success","data","catch","err","console","log","getDisabledClass","isError","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","width","height","onSubmit","id","onChange","required","maxLength","label","customError","placeholder","type","style","color","to"],"sources":["C:/iDASnew/client/src/components/Account/Login.tsx"],"sourcesContent":["import React, { useState, FormEvent, Dispatch } from \"react\";\r\nimport { OnChangeModel } from \"../../common/types/Form.types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login } from \"../../store/actions/account.actions\";\r\nimport TextInput from \"../../common/components/TextInput\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { loginUser } from \"../../services/index\";\r\nimport {\r\n  addNotification,\r\n  parseApiResult,\r\n} from \"../../store/actions/notifications.action\";\r\nimport logo from \"../../assets/images/login-logo-new.jpg\";\r\n\r\nconst Login: React.FC = () => {\r\n  const dispatch: Dispatch<any> = useDispatch();\r\n  const [formState, setFormState] = useState({\r\n    email: { error: \"\", value: \"qualityuser@gmail.com\" },\r\n    password: { error: \"\", value: \"qualityuser\" },\r\n  });\r\n\r\n  function hasFormValueChanged(model: OnChangeModel): void {\r\n    setFormState({\r\n      ...formState,\r\n      [model.field]: { error: model.error, value: model.value },\r\n    });\r\n  }\r\n\r\n  function submit(e: FormEvent<HTMLFormElement>): void {\r\n    e.preventDefault();\r\n    if (isFormInvalid()) {\r\n      return;\r\n    }\r\n    loginUser({\r\n      email: formState.email.value,\r\n      password: formState.password.value,\r\n    })\r\n      .then((status) => {\r\n        const { titleMesage = \"\", bodyMessage = \"\" } = parseApiResult(status);\r\n        const { success = false } = status;\r\n        if (success) {\r\n          dispatch(addNotification(titleMesage, bodyMessage));\r\n\r\n          dispatch(login(status.data));\r\n        } else {\r\n          dispatch(\r\n            addNotification(\r\n              titleMesage,\r\n              bodyMessage ? bodyMessage : \"Unable to login\"\r\n            )\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    // dispatch(login(formState.email.value));\r\n  }\r\n\r\n  function isFormInvalid() {\r\n    return (\r\n      formState.email.error ||\r\n      formState.password.error ||\r\n      !formState.email.value ||\r\n      !formState.password.value\r\n    );\r\n  }\r\n\r\n  function getDisabledClass(): string {\r\n    let isError: boolean = isFormInvalid() as boolean;\r\n    return isError ? \"disabled\" : \"\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-lg-5 col-md-5\">\r\n          <div className=\"card o-hidden border-0 shadow-lg my-5\">\r\n            <div className=\"card-body p-0\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"p-5\">\r\n                    <div className=\"text-center\">\r\n                      <h1 className=\"h4 text-gray-900 mb-4\">\r\n                        <img src={logo} alt=\"logo\" width=\"200\" height=\"120\" />\r\n                      </h1>\r\n                    </div>\r\n                    <form className=\"user\" onSubmit={submit}>\r\n                      <div className=\"form-group font-14\">\r\n                        <TextInput\r\n                          id=\"input_email\"\r\n                          field=\"email\"\r\n                          value={formState.email.value}\r\n                          onChange={hasFormValueChanged}\r\n                          required={true}\r\n                          maxLength={100}\r\n                          label=\"Email\"\r\n                          customError={formState.email.error}\r\n                          placeholder=\"Email\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group font-14\">\r\n                        <TextInput\r\n                          id=\"input_password\"\r\n                          field=\"password\"\r\n                          value={formState.password.value}\r\n                          onChange={hasFormValueChanged}\r\n                          required={true}\r\n                          maxLength={100}\r\n                          type=\"password\"\r\n                          label=\"Password\"\r\n                          customError={formState.password.error}\r\n                          placeholder=\"Password\"\r\n                        />\r\n                      </div>\r\n\r\n                      <button\r\n                        className={`btn btn-primary btn-user btn-block ${getDisabledClass()}`}\r\n                        type=\"submit\"\r\n                      >\r\n                        Login\r\n                      </button>\r\n\r\n                      <Link\r\n                        className={`btn btn-warning btn-user btn-block ${getDisabledClass()}`}\r\n                        style={{ color: \"#fff\" }}\r\n                        to=\"/register\"\r\n                      >\r\n                        Register\r\n                      </Link>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}