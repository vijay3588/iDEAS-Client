{"ast":null,"code":"import { ADD_DOC_ISSUANCE, CHANGE_DOC_ISSUANCE_PENDING_EDIT, EDIT_DOC_ISSUANCE, REMOVE_DOC_ISSUANCE, CLEAR_DOC_ISSUANCE_PENDING_EDIT, SET_DOC_ISSUANCE_MODIFICATION_STATE, CHANGE_DOC_ISSUANCE_AMOUNT, LIST_DOC_ISSUANCE } from \"../actions/docissuance.action\";\nimport { DocIssuanceModificationStatus } from \"../models/docIssuance.interface\";\nconst initialState = {\n  modificationState: DocIssuanceModificationStatus.None,\n  selectedDocIssuance: null,\n  docIssuances: []\n};\nfunction docIssuancesReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case LIST_DOC_ISSUANCE:\n      {\n        return {\n          ...state,\n          docIssuances: action.docIssuances\n        };\n      }\n    case ADD_DOC_ISSUANCE:\n      {\n        //  let maxId: number = Math.max.apply(Math, state.docIssuances.map(function(o) { return o._id; }));\n        //  action.product.id = maxId + 1; \n        return {\n          ...state,\n          docIssuances: [...state.docIssuances, action.docCategory]\n        };\n      }\n    case EDIT_DOC_ISSUANCE:\n      {\n        const foundIndex = state.docIssuances.findIndex(pr => pr._id === action.docCategory._id);\n        let docIssuances = state.docIssuances;\n        docIssuances[foundIndex] = action.docCategory;\n        return {\n          ...state,\n          docIssuances: docIssuances\n        };\n      }\n    case REMOVE_DOC_ISSUANCE:\n      {\n        return {\n          ...state,\n          docIssuances: state.docIssuances.filter(pr => pr._id !== action.id)\n        };\n      }\n    case CHANGE_DOC_ISSUANCE_PENDING_EDIT:\n      {\n        return {\n          ...state,\n          selectedDocIssuance: action.docIssuance\n        };\n      }\n    case CLEAR_DOC_ISSUANCE_PENDING_EDIT:\n      {\n        return {\n          ...state,\n          selectedDocIssuance: null\n        };\n      }\n    case SET_DOC_ISSUANCE_MODIFICATION_STATE:\n      {\n        return {\n          ...state,\n          modificationState: action.value\n        };\n      }\n    case CHANGE_DOC_ISSUANCE_AMOUNT:\n      {\n        //const foundIndex: number = state.docIssuances.findIndex(pr => pr._id === action.id);\n        let docIssuances = state.docIssuances;\n        return {\n          ...state,\n          docIssuances: docIssuances\n        };\n      }\n    default:\n      return state;\n  }\n}\nexport default docIssuancesReducer;","map":{"version":3,"names":["ADD_DOC_ISSUANCE","CHANGE_DOC_ISSUANCE_PENDING_EDIT","EDIT_DOC_ISSUANCE","REMOVE_DOC_ISSUANCE","CLEAR_DOC_ISSUANCE_PENDING_EDIT","SET_DOC_ISSUANCE_MODIFICATION_STATE","CHANGE_DOC_ISSUANCE_AMOUNT","LIST_DOC_ISSUANCE","DocIssuanceModificationStatus","initialState","modificationState","None","selectedDocIssuance","docIssuances","docIssuancesReducer","state","arguments","length","undefined","action","type","docCategory","foundIndex","findIndex","pr","_id","filter","id","docIssuance","value"],"sources":["C:/iDAS/client/src/store/reducers/docissuance.reducer.ts"],"sourcesContent":["import { IDocIssuanceState, IActionBase } from \"../models/root.interface\";\r\nimport { ADD_DOC_ISSUANCE, CHANGE_DOC_ISSUANCE_PENDING_EDIT, EDIT_DOC_ISSUANCE, REMOVE_DOC_ISSUANCE,\r\n    CLEAR_DOC_ISSUANCE_PENDING_EDIT, SET_DOC_ISSUANCE_MODIFICATION_STATE, CHANGE_DOC_ISSUANCE_AMOUNT, LIST_DOC_ISSUANCE} from \"../actions/docissuance.action\";\r\nimport { IDocIssuance, DocIssuanceModificationStatus } from \"../models/docIssuance.interface\";\r\n\r\n\r\n\r\nconst initialState: IDocIssuanceState = {\r\n    modificationState: DocIssuanceModificationStatus.None,\r\n    selectedDocIssuance: null,\r\n    docIssuances: []\r\n};\r\n\r\nfunction docIssuancesReducer(state: IDocIssuanceState = initialState, action: IActionBase): IDocIssuanceState {\r\n    switch (action.type) {         \r\n        case LIST_DOC_ISSUANCE: { \r\n            return { ...state, docIssuances:  action.docIssuances};\r\n        }        \r\n        case ADD_DOC_ISSUANCE: {\r\n          //  let maxId: number = Math.max.apply(Math, state.docIssuances.map(function(o) { return o._id; }));\r\n          //  action.product.id = maxId + 1; \r\n            return { ...state, docIssuances: [...state.docIssuances, action.docCategory]};\r\n        }\r\n        case EDIT_DOC_ISSUANCE: {\r\n            const foundIndex: number = state.docIssuances.findIndex(pr => pr._id === action.docCategory._id);\r\n            let docIssuances: IDocIssuance[] = state.docIssuances;\r\n            docIssuances[foundIndex] = action.docCategory;\r\n            return { ...state, docIssuances: docIssuances };\r\n        }\r\n        case REMOVE_DOC_ISSUANCE: {\r\n            return { ...state, docIssuances: state.docIssuances.filter(pr => pr._id !== action.id) };\r\n        }\r\n        case CHANGE_DOC_ISSUANCE_PENDING_EDIT: {\r\n            return { ...state, selectedDocIssuance: action.docIssuance };\r\n        }\r\n        case CLEAR_DOC_ISSUANCE_PENDING_EDIT: {\r\n            return { ...state, selectedDocIssuance: null };\r\n        }\r\n        case SET_DOC_ISSUANCE_MODIFICATION_STATE: {\r\n            return { ...state, modificationState: action.value };\r\n        }\r\n        case CHANGE_DOC_ISSUANCE_AMOUNT: {\r\n            //const foundIndex: number = state.docIssuances.findIndex(pr => pr._id === action.id);\r\n            let docIssuances: IDocIssuance[] = state.docIssuances;\r\n            return { ...state, docIssuances: docIssuances };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default docIssuancesReducer;"],"mappings":"AACA,SAASA,gBAAgB,EAAEC,gCAAgC,EAAEC,iBAAiB,EAAEC,mBAAmB,EAC/FC,+BAA+B,EAAEC,mCAAmC,EAAEC,0BAA0B,EAAEC,iBAAiB,QAAO,+BAA+B;AAC7J,SAAuBC,6BAA6B,QAAQ,iCAAiC;AAI7F,MAAMC,YAA+B,GAAG;EACpCC,iBAAiB,EAAEF,6BAA6B,CAACG,IAAI;EACrDC,mBAAmB,EAAE,IAAI;EACzBC,YAAY,EAAE;AAClB,CAAC;AAED,SAASC,mBAAmBA,CAAA,EAAkF;EAAA,IAAjFC,KAAwB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGP,YAAY;EAAA,IAAEU,MAAmB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACrF,QAAQC,MAAM,CAACC,IAAI;IACf,KAAKb,iBAAiB;MAAE;QACpB,OAAO;UAAE,GAAGQ,KAAK;UAAEF,YAAY,EAAGM,MAAM,CAACN;QAAY,CAAC;MAC1D;IACA,KAAKb,gBAAgB;MAAE;QACrB;QACA;QACE,OAAO;UAAE,GAAGe,KAAK;UAAEF,YAAY,EAAE,CAAC,GAAGE,KAAK,CAACF,YAAY,EAAEM,MAAM,CAACE,WAAW;QAAC,CAAC;MACjF;IACA,KAAKnB,iBAAiB;MAAE;QACpB,MAAMoB,UAAkB,GAAGP,KAAK,CAACF,YAAY,CAACU,SAAS,CAACC,EAAE,IAAIA,EAAE,CAACC,GAAG,KAAKN,MAAM,CAACE,WAAW,CAACI,GAAG,CAAC;QAChG,IAAIZ,YAA4B,GAAGE,KAAK,CAACF,YAAY;QACrDA,YAAY,CAACS,UAAU,CAAC,GAAGH,MAAM,CAACE,WAAW;QAC7C,OAAO;UAAE,GAAGN,KAAK;UAAEF,YAAY,EAAEA;QAAa,CAAC;MACnD;IACA,KAAKV,mBAAmB;MAAE;QACtB,OAAO;UAAE,GAAGY,KAAK;UAAEF,YAAY,EAAEE,KAAK,CAACF,YAAY,CAACa,MAAM,CAACF,EAAE,IAAIA,EAAE,CAACC,GAAG,KAAKN,MAAM,CAACQ,EAAE;QAAE,CAAC;MAC5F;IACA,KAAK1B,gCAAgC;MAAE;QACnC,OAAO;UAAE,GAAGc,KAAK;UAAEH,mBAAmB,EAAEO,MAAM,CAACS;QAAY,CAAC;MAChE;IACA,KAAKxB,+BAA+B;MAAE;QAClC,OAAO;UAAE,GAAGW,KAAK;UAAEH,mBAAmB,EAAE;QAAK,CAAC;MAClD;IACA,KAAKP,mCAAmC;MAAE;QACtC,OAAO;UAAE,GAAGU,KAAK;UAAEL,iBAAiB,EAAES,MAAM,CAACU;QAAM,CAAC;MACxD;IACA,KAAKvB,0BAA0B;MAAE;QAC7B;QACA,IAAIO,YAA4B,GAAGE,KAAK,CAACF,YAAY;QACrD,OAAO;UAAE,GAAGE,KAAK;UAAEF,YAAY,EAAEA;QAAa,CAAC;MACnD;IACA;MACI,OAAOE,KAAK;EACpB;AACJ;AAGA,eAAeD,mBAAmB"},"metadata":{},"sourceType":"module"}