{"ast":null,"code":"import { ADD_BOX, CHANGE_BOX_PENDING_EDIT, EDIT_BOX, REMOVE_BOX, CLEAR_BOX_PENDING_EDIT, SET_BOX_MODIFICATION_STATE, CHANGE_BOX_AMOUNT, LIST_BOX } from \"../actions/box.action\";\nimport { BoxModificationStatus } from \"../models/box.interface\";\nconst initialState = {\n  modificationState: BoxModificationStatus.None,\n  selectedBox: null,\n  boxes: [{\n    _id: \"1\",\n    name: \"Chocolate\",\n    description: \"This is Chocolate and it is Sweet\",\n    \"racks\": 2,\n    rackList: []\n  }]\n};\nfunction boxsReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case LIST_BOX:\n      {\n        return {\n          ...state,\n          boxes: action.boxes\n        };\n      }\n    case ADD_BOX:\n      {\n        // let maxId: number = Math.max.apply(Math, state.boxes.map(function(o) { return o._id; }));\n        //  action.box.id = maxId + 1;\n        return {\n          ...state,\n          boxes: [...state.boxes, action.box]\n        };\n      }\n    case EDIT_BOX:\n      {\n        const foundIndex = state.boxes.findIndex(pr => pr._id === action.box._id);\n        let boxes = state.boxes;\n        boxes[foundIndex] = action.box;\n        return {\n          ...state,\n          boxes: boxes\n        };\n      }\n    case REMOVE_BOX:\n      {\n        return {\n          ...state,\n          boxes: state.boxes.filter(pr => pr._id !== action.id)\n        };\n      }\n    case CHANGE_BOX_PENDING_EDIT:\n      {\n        return {\n          ...state,\n          selectedBox: action.box\n        };\n      }\n    case CLEAR_BOX_PENDING_EDIT:\n      {\n        return {\n          ...state,\n          selectedBox: null\n        };\n      }\n    case SET_BOX_MODIFICATION_STATE:\n      {\n        return {\n          ...state,\n          modificationState: action.value\n        };\n      }\n    case CHANGE_BOX_AMOUNT:\n      {\n        //const foundIndex: number = state.boxes.findIndex(pr => pr._id === action.id);\n        let box = state.boxes;\n        return {\n          ...state,\n          boxes: box\n        };\n      }\n    default:\n      return state;\n  }\n}\nexport default boxsReducer;","map":{"version":3,"names":["ADD_BOX","CHANGE_BOX_PENDING_EDIT","EDIT_BOX","REMOVE_BOX","CLEAR_BOX_PENDING_EDIT","SET_BOX_MODIFICATION_STATE","CHANGE_BOX_AMOUNT","LIST_BOX","BoxModificationStatus","initialState","modificationState","None","selectedBox","boxes","_id","name","description","rackList","boxsReducer","state","arguments","length","undefined","action","type","box","foundIndex","findIndex","pr","filter","id","value"],"sources":["C:/iDASnew/client/src/store/reducers/box.reducer.ts"],"sourcesContent":["import { IBoxState, IActionBase } from \"../models/root.interface\";\r\nimport { ADD_BOX, CHANGE_BOX_PENDING_EDIT, EDIT_BOX, REMOVE_BOX,\r\n    CLEAR_BOX_PENDING_EDIT, SET_BOX_MODIFICATION_STATE, CHANGE_BOX_AMOUNT, LIST_BOX} from \"../actions/box.action\";\r\nimport { IBox, BoxModificationStatus } from \"../models/box.interface\";\r\n\r\n\r\n\r\nconst initialState: IBoxState = {\r\n    modificationState: BoxModificationStatus.None,\r\n    selectedBox: null,\r\n    boxes: [{\r\n        _id: \"1\", name: \"Chocolate\", description: \"This is Chocolate and it is Sweet\", \"racks\" :2, rackList : []\r\n    } ]\r\n};\r\n\r\nfunction boxsReducer(state: IBoxState = initialState, action: IActionBase): IBoxState {\r\n    switch (action.type) {         \r\n        case LIST_BOX: {\r\n            return { ...state, boxes:  action.boxes};\r\n        }        \r\n        case ADD_BOX: {\r\n           // let maxId: number = Math.max.apply(Math, state.boxes.map(function(o) { return o._id; }));\r\n          //  action.box.id = maxId + 1;\r\n            return { ...state, boxes: [...state.boxes, action.box]};\r\n        }\r\n        case EDIT_BOX: {\r\n            const foundIndex: number = state.boxes.findIndex(pr => pr._id === action.box._id);\r\n            let boxes: IBox[] = state.boxes;\r\n            boxes[foundIndex] = action.box;\r\n            return { ...state, boxes: boxes };\r\n        }\r\n        case REMOVE_BOX: {\r\n            return { ...state, boxes: state.boxes.filter(pr => pr._id !== action.id) };\r\n        }\r\n        case CHANGE_BOX_PENDING_EDIT: {\r\n            return { ...state, selectedBox: action.box };\r\n        }\r\n        case CLEAR_BOX_PENDING_EDIT: {\r\n            return { ...state, selectedBox: null };\r\n        }\r\n        case SET_BOX_MODIFICATION_STATE: {\r\n            return { ...state, modificationState: action.value };\r\n        }\r\n        case CHANGE_BOX_AMOUNT: {\r\n            //const foundIndex: number = state.boxes.findIndex(pr => pr._id === action.id);\r\n            let box: IBox[] = state.boxes;\r\n            return { ...state, boxes: box };   \r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default boxsReducer;"],"mappings":"AACA,SAASA,OAAO,EAAEC,uBAAuB,EAAEC,QAAQ,EAAEC,UAAU,EAC3DC,sBAAsB,EAAEC,0BAA0B,EAAEC,iBAAiB,EAAEC,QAAQ,QAAO,uBAAuB;AACjH,SAAeC,qBAAqB,QAAQ,yBAAyB;AAIrE,MAAMC,YAAuB,GAAG;EAC5BC,iBAAiB,EAAEF,qBAAqB,CAACG,IAAI;EAC7CC,WAAW,EAAE,IAAI;EACjBC,KAAK,EAAE,CAAC;IACJC,GAAG,EAAE,GAAG;IAAEC,IAAI,EAAE,WAAW;IAAEC,WAAW,EAAE,mCAAmC;IAAE,OAAO,EAAE,CAAC;IAAEC,QAAQ,EAAG;EAC1G,CAAC;AACL,CAAC;AAED,SAASC,WAAWA,CAAA,EAAkE;EAAA,IAAjEC,KAAgB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGX,YAAY;EAAA,IAAEc,MAAmB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACrE,QAAQC,MAAM,CAACC,IAAI;IACf,KAAKjB,QAAQ;MAAE;QACX,OAAO;UAAE,GAAGY,KAAK;UAAEN,KAAK,EAAGU,MAAM,CAACV;QAAK,CAAC;MAC5C;IACA,KAAKb,OAAO;MAAE;QACX;QACD;QACE,OAAO;UAAE,GAAGmB,KAAK;UAAEN,KAAK,EAAE,CAAC,GAAGM,KAAK,CAACN,KAAK,EAAEU,MAAM,CAACE,GAAG;QAAC,CAAC;MAC3D;IACA,KAAKvB,QAAQ;MAAE;QACX,MAAMwB,UAAkB,GAAGP,KAAK,CAACN,KAAK,CAACc,SAAS,CAACC,EAAE,IAAIA,EAAE,CAACd,GAAG,KAAKS,MAAM,CAACE,GAAG,CAACX,GAAG,CAAC;QACjF,IAAID,KAAa,GAAGM,KAAK,CAACN,KAAK;QAC/BA,KAAK,CAACa,UAAU,CAAC,GAAGH,MAAM,CAACE,GAAG;QAC9B,OAAO;UAAE,GAAGN,KAAK;UAAEN,KAAK,EAAEA;QAAM,CAAC;MACrC;IACA,KAAKV,UAAU;MAAE;QACb,OAAO;UAAE,GAAGgB,KAAK;UAAEN,KAAK,EAAEM,KAAK,CAACN,KAAK,CAACgB,MAAM,CAACD,EAAE,IAAIA,EAAE,CAACd,GAAG,KAAKS,MAAM,CAACO,EAAE;QAAE,CAAC;MAC9E;IACA,KAAK7B,uBAAuB;MAAE;QAC1B,OAAO;UAAE,GAAGkB,KAAK;UAAEP,WAAW,EAAEW,MAAM,CAACE;QAAI,CAAC;MAChD;IACA,KAAKrB,sBAAsB;MAAE;QACzB,OAAO;UAAE,GAAGe,KAAK;UAAEP,WAAW,EAAE;QAAK,CAAC;MAC1C;IACA,KAAKP,0BAA0B;MAAE;QAC7B,OAAO;UAAE,GAAGc,KAAK;UAAET,iBAAiB,EAAEa,MAAM,CAACQ;QAAM,CAAC;MACxD;IACA,KAAKzB,iBAAiB;MAAE;QACpB;QACA,IAAImB,GAAW,GAAGN,KAAK,CAACN,KAAK;QAC7B,OAAO;UAAE,GAAGM,KAAK;UAAEN,KAAK,EAAEY;QAAI,CAAC;MACnC;IACA;MACI,OAAON,KAAK;EACpB;AACJ;AAGA,eAAeD,WAAW"},"metadata":{},"sourceType":"module"}